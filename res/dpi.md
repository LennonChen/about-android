About Dpi
============================================================

x5 精细模式的密度是440，放大模式是480，只有这个区别。
其他的种种现象也是因为密度的不同导致的。
```
nxhdpi = 440， 精细模式
xxhdpi = 480， 放大模式
```
如果是一张480下的图，放到了440的密度下，它就要缩小 480/440 倍（对于边长而言）。

问题1：
------------------------------------------------------------

  这是x5手机（目前仅限于x5使用）的两种不同的设置，入口 在 “设置 - 其他高级设置 - 字体 - 当前布局” 。
  小和标准是 nxhdpi （440）
  中和大号是 xxhdpi  （480）
##注意##：
   这个功能应该在12.12 x5-v6-alpha版本上才生效。如果你刷的是之前的版本会有bug，不同密度的切换需要重启才能生效。
  如果你不确定当前密度是多少，还有一种方式很快查询，运行下面命令看结果：
```
  $ adb shell getprop persist.miui.density
```

问题2：
------------------------------------------------------------

是的，会缩小。
但是如果缩小后的样式在视觉上正好是设计师期望的，那就不需要在Drawable-nxhdpi来存放和drawable-xxhdpi一样的名称图片（注意不是完全一样的图片）。
所以你得先编译一个版本，刷机看看，再决定要不要创建Drawable-nxhdpi。
如果确实不符合要求，这个图片很大可能不是直接从xxhdpi下拷贝到nxhdpi下就可以满足要求的，应该找设计师，重新切一张适合nxhdpi的图。
不可以盲目的直接的全部的拷贝，那样做的后果就是精细模式和放大模式没有任何区别。

问题3：
------------------------------------------------------------

我了解到的优先级如下，我不是十分的确定，有如果有误请补充：

### 精细模式下：

```
nxhdpi (440)> xxhdpi(480) > xhdpi(320) >  默认(160)
```

### 放大模式下：

```
xxhdpi (480) > nxhdpi(440) > xhdpi(320) >  默认(160)
```

默认是指直接在 values 或者 drawable下的文件，相对与(values/drawable)-??hdpi。
如果没有指定dpi的值。资源查找时系统会默认把它当成160 dpi的密度。
我看源代码中关于涉及密度的资源查找策略是，试图找到一个最接近的密度下的资源。
并且在没有同设备密度相等密度的资源时，如果有一个资源密度比设备密度高，另一个资源的密度比设备密度低。
那么密度高的资源比密度低的资源的优先级更高，具体的关系见下（本人数学不好，各位自己揣摩吧，不过还好google注释出来了，
见下面红字，我理解是对图片压缩要好过对图片放大）：

```
ResourceTypes.cpp -> isBetterThan()
// saying that scaling down is 2x better than up
if (((2 * l) - reqValue) * h > reqValue * reqValue) {
    优先级：低密度>高密度;
} else {
    优先级：高密度>低密度;
}
```

* l 为低密度资源密度
* h为高密度资源密度
* reqValue是设备密度