<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
    <title>MTP in Android - Innost的专栏
        - 博客频道 - CSDN.NET</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="经作者同意，转发我们公司MTP专家同事huirong的一篇文章。大家也可在程序员第5期看到。MTP in AndroidMTP的全称是Media Transfer Protocol（媒体传输协议），它是微软公司提出的一套媒体文件传输协议。Android从3.0开始支持MTP。不过，在今天的智能手机领域内，Google和微软是一对冤家，为什么Android中会使用MTP呢？请看下文。一&nbsp; 背景知识介">
    <script src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ga.js" async="" type="text/javascript"></script><script src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/jquery.js" type="text/javascript"></script>
    <script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ad.js"></script>
        <!--new top-->
       
        <link rel="stylesheet" href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/index.css">
        <!--new top-->

    <link rel="Stylesheet" type="text/css" href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/style_002.css">
    <link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://blog.csdn.net/Innost/rss/list">
    <link rel="shortcut icon" href="http://csdnimg.cn/public/favicon.ico">
    <link type="text/css" rel="stylesheet" href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/default.css">
 

<link rel="stylesheet" href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/font-awesome.css"><link type="text/css" rel="stylesheet" href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/bdsstyle.css"><script src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/tracking.js" charset="utf-8" type="text/javascript"></script><script src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/main_002.js" charset="utf-8" type="text/javascript"></script><link href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/style.css" rel="stylesheet" type="text/css"><script src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/logger.js"></script></head>
<body><div style="position: absolute; left: -1px; bottom: -1px; z-index: 0; width: 0px; height: 0px; overflow: hidden; visibility: hidden; display: none;" id="BAIDU_DUP_fp_wrapper"><iframe style="width: 0px; height: 0px; visibility: hidden; display: none;" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/o.html" id="BAIDU_DUP_fp_iframe"></iframe></div><iframe style="display: none;" frameborder="0"></iframe><div style="display: block;" id="bdshare_s"><iframe id="bdsIfr" style="position:absolute;display:none;z-index:9999;" frameborder="0"></iframe><div style="display: none;" id="bdshare_l"><div id="bdshare_l_c"><h6>分享到</h6><ul><li><a href="#" class="bds_mshare mshare">一键分享</a></li><li><a href="#" class="bds_qzone qqkj">QQ空间</a></li><li><a href="#" class="bds_tsina xlwb">新浪微博</a></li><li><a href="#" class="bds_bdysc bdysc">百度云收藏</a></li><li><a href="#" class="bds_renren rrw">人人网</a></li><li><a href="#" class="bds_tqq txwb">腾讯微博</a></li><li><a href="#" class="bds_bdxc bdxc">百度相册</a></li><li><a href="#" class="bds_kaixin001 kxw">开心网</a></li><li><a href="#" class="bds_tqf txpy">腾讯朋友</a></li><li><a href="#" class="bds_tieba bdtb">百度贴吧</a></li><li><a href="#" class="bds_douban db">豆瓣网</a></li><li><a href="#" class="bds_tsohu shwb">搜狐微博</a></li><li><a href="#" class="bds_bdhome bdhome">百度新首页</a></li><li><a href="#" class="bds_sqq sqq">QQ好友</a></li><li><a href="#" class="bds_thx thx">和讯微博</a></li><li><a href="#" class="bds_more">更多...</a></li></ul><p><a href="#" class="goWebsite">百度分享</a></p></div></div></div>
    
   
      <!--new top-->
    <script id="toolbar-tpl-scriptId" fixed="true" prod="blog" skin="black" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/html.js" type="text/javascript"></script><div class="csdn-toolbar csdn-toolbar-skin-black ">        <div class="container row center-block ">          <div class="col-md-3 pull-left logo clearfix"><a href="http://www.csdn.net/?ref=toolbar" title="CSDN首页" target="_blank" class="icon"></a><a title="频道首页" href="http://blog.csdn.net/?ref=toolbar_logo" target="_blank" class="img blog-icon"></a></div>          <div class="pull-right login-wrap ">            <ul class="btns">              <li class="loginlink"><a href="https://passport.csdn.net/account/login?ref=toolbar" target="_top">登录&nbsp;</a>|<a target="_top" href="https://passport.csdn.net/account/register?ref=toolbar">&nbsp;注册</a></li>              <li class="search">                <div class="icon on-search-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <form action="http://so.csdn.net/search" method="get" target="_blank">                      <input value="toolbar" name="ref" accesskey="2" type="hidden">                      <div class="border">                        <input placeholder="搜索" name="q" accesskey="2" type="text"><span class="icon-enter-sm"></span>                      </div>                    </form>                  </div>                </div>              </li>              <li class="favor">                <div class="icon on-favor-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div style="display:none;" class="favor-success"><span class="msg">收藏成功</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <div style="display:none;" class="favor-failed"><span class="icon-danger-lg"></span><span class="msg">收藏失败，请重新收藏</span>                      <div class="btns"><span class="btn btn-primary ok">确定</span></div>                    </div>                    <form role="form" class="form-horizontal favor-form">                      <div class="form-group">                        <div class="clearfix">                          <label for="input-title" class="col-sm-2 control-label">标题</label>                          <div class="col-sm-10">                            <input value="MTP in Android - Innost的专栏 - 博客频道 - CSDN.NET" id="inputTitle" placeholder="" class="title form-control" type="text">                          </div>                        </div>                        <div class="alert alert-danger"><strong></strong>标题不能为空</div>                      </div>                      <div class="form-group">                        <label for="input-url" class="col-sm-2 control-label">网址</label>                        <div class="col-sm-10">                          <input value="http://blog.csdn.net/innost/article/details/8876392" id="input-url" placeholder="" class="url form-control" type="text">                        </div>                      </div>                      <div class="form-group">                        <label for="input-tag" class="col-sm-2 tag control-label">标签</label>                        <div class="col-sm-10">                          <input id="input-tag" class="form-control tag" type="text">                        </div>                      </div>                      <div class="form-group">                        <label for="input-description" class="description col-sm-2 control-label">摘要</label>                        <div class="col-sm-10">                          <textarea id="input-description" class="form-control description"></textarea>                        </div>                      </div>                      <div class="form-group">                        <div class="col-sm-offset-2 col-sm-10 ft">                          <div class="col-sm-4 pull-left">                            <div class="checkbox">                              <label>                                <input name="share" checked="checked" class="share" type="checkbox">公开                              </label>                            </div>                          </div>                          <div class="col-sm-8 pull-right favor-btns">                            <button type="button" class="cancel btn btn-default">取消</button>                            <button type="submit" class="submit btn btn-primary">收藏</button>                          </div>                        </div>                      </div>                    </form>                  </div>                </div>              </li>              <li class="notify">                <div style="display:none" class="number"></div>                <div style="display:none" class="icon-hasnotes-sm"></div>                <div id="header_notice_num"><div class="icon-hasnotes" style="display:none"></div></div>                <div class="icon on-notify-icon">                  <div class="wrap">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div style="display: none;" id="note1" class="csdn_note">                      <div class="box"><div class="notifications notice_list_con curr">  <div class="menu_title">    <span class="title"><a href="http://notify.csdn.net/" target="_blank" class="read_all">全部设为已读</a><a href="http://notify.csdn.net/" target="_blank" class="go_all">查看所有通知</a></span>  </div>  <div class="loading"></div>  <div class="empty">暂没有新通知</div>  <div class="notice_content"></div></div><div class="notifications detail_con" style="display: none">  <div class="menu_title">    <span class="title">      <a class="go_back" href="javascript:void%200;">返回通知列表</a>      <a class="notifications_page_none nextnote" href="javascript:void%200;">下一条</a>      <a class="notifications_page prvnote" href="javascript:void%200;">上一条</a>    </span>  </div>  <div class="notice_content"></div></div><div class="error"></div></div>                    <iframe src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/a.html" allowtransparency="true" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent" frameborder="0"></iframe></div>                  </div>                </div>              </li>              <li class="ugc">                <div class="icon on-ugc-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <dl>                      <dt><a href="http://geek.csdn.net/news/expert?ref=toolbar" target="_blank" class="p-news clearfix"><em class="icon"></em><span>分享资讯</span></a></dt>                      <dt><a href="http://share.csdn.net/slides/new?ref=toolbar" target="_blank" class="p-doc clearfix"><em class="icon"></em><span>传PPT/文档</span></a></dt>                      <dt><a href="http://bbs.csdn.net/topics/new?ref=toolbar" target="_blank" class="p-ask clearfix"><em class="icon"></em><span>提问题</span></a></dt>                      <dt><a href="http://write.blog.csdn.net/postedit?ref=toolbar" target="_blank" class="p-blog clearfix"><em class="icon"></em><span>写博客</span></a></dt>                      <dt><a href="http://u.download.csdn.net/upload?ref=toolbar" target="_blank" class="p-src clearfix"><em class="icon"></em><span>传资源</span></a></dt>                      <dt><a href="https://code.csdn.net/projects/new?ref=toolbar" target="_blank" class="c-obj clearfix"><em class="icon"></em><span>创建项目</span></a></dt>                      <dt><a href="https://code.csdn.net/snippets/new?ref=toolbar" target="_blank" class="c-code clearfix"><em class="icon"></em><span>创建代码片</span></a></dt>                    </dl>                  </div>                </div>              </li>              <li class="profile">                <div class="icon on-profile-icon"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/2_hao1056531028.jpg" class="curr-icon-img">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                    <div class="bd">                      <dl class="clearfix">                        <dt class="pull-left img"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="avatar"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/2_hao1056531028.jpg"></a></dt>                        <dd class="info"><a target="_blank" href="http://my.csdn.net/?ref=toolbar" class="nickname">hao1056531028</a><span class="dec">我是一个酷爱编程和打球的人</span></dd>                      </dl>                    </div>                    <div class="ft clearfix"><a target="_blank" href="http://my.csdn.net/my/account/changepwd?ref=toolbar" class="pull-left"><span class="icon-cog"></span>帐号设置</a><a href="https://passport.csdn.net/account/logout?ref=toolbar" target="_top" class="pull-right "><span class="icon-signout"></span><span class="out">退出</span></a></div>                  </div>                </div>              </li>              <li class="apps">                <div class="icon on-apps-icon">                  <div class="wrap clearfix">                    <div class="curr-icon-wrap">                      <div class="curr-icon"></div>                    </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>社区</h5>                      </dt>                      <dd> <a href="http://blog.csdn.net/?ref=toolbar" target="_blank">博客</a></dd>                      <dd> <a href="http://bbs.csdn.net/?ref=toolbar" target="_blank">论坛</a></dd>                      <dd> <a href="http://download.csdn.net/?ref=toolbar" target="_blank">下载</a></dd>                      <dd><a href="http://share.csdn.net/?ref=toolbar" target="_blank">Share</a></dd>                      <dd><a href="http://geek.csdn.net/?ref=toolbar" target="_blank">极客头条</a></dd>                    </dl>                  </div>                  <div class="detail">                    <dl>                      <dt>                        <h5>服务</h5>                      </dt>                      <dd> <a href="https://code.csdn.net/?ref=toolbar" target="_blank">CODE</a></dd>                      <dd> <a href="http://hero.csdn.net/?ref=toolbar" target="_blank">英雄会</a></dd>                      <dd> <a href="http://huiyi.csdn.net/meeting?ref=toolbar" target="_blank">会议</a></dd>                      <dd> <a href="http://www.csto.com/?ref=toolbar" target="_blank">CSTO</a></dd>                    </dl>                  </div>                  <div class="detail last">                    <dl>                      <dt>                        <h5>俱乐部</h5>                      </dt>                      <dd> <a href="http://student.csdn.net/?ref=toolbar" target="_blank">高校俱乐部</a></dd>                      <dd> <a href="http://club.csdn.net/cto?ref=toolbar" target="_blank">CTO俱乐部</a></dd>                    </dl>                  </div>                </div>              </div>            </li>            </ul>          </div>        </div>    </div>
     <!--new top-->
    <div id="container">
        <div id="header">
    <div class="header">
        <div id="blog_title">
            <h2>
                <a href="http://blog.csdn.net/innost">Innost的专栏</a></h2>
            <h3>深入理解Android与其他技术，管理，人生百态，团队建设等</h3>
            <div class="clear">
            </div>
        </div>
        <div class="clear">
        </div>
    </div>
</div>
<div id="navigator">
    <div class="navigator_bg">
    </div>
    <div class="navigator">
        <ul>
                <li id="btnContents"><a href="http://blog.csdn.net/innost?viewmode=contents"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_mulu'])">
                    <img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ico_list.gif">目录视图</span></a></li>
                <li id="btnView"><a href="http://blog.csdn.net/innost?viewmode=list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_zhaiyao'])">
                    <img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ico_summary.gif">摘要视图</span></a></li>
                <li id="btnRss"><a href="http://blog.csdn.net/innost/rss/list"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_RSS'])">
                    <img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ico_rss.gif">订阅</span></a></li>

            </ul>
    </div>
</div>
<script type="text/javascript">
    var username = "Innost";
    var _blogger = username;
    var blog_address = "http://blog.csdn.net/innost";
    var static_host = "http://static.blog.csdn.net";
    var currentUserName = "hao1056531028";
</script>

        <div id="body">
            <div id="main">
                <div class="main">
<div class="notice tracking-ad" data-mod="popu_3"> 

<a href="http://blog.csdn.net/blogdevteam/article/details/25387451" target="_blank">
<font color="blue">有奖征资源，博文分享有内涵
</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/25400391" target="_blank">
<font color="red">4月推荐博文汇总 
</font></a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

<a href="http://blog.csdn.net/blogdevteam/article/details/26512525" target="_blank">
<font color="blue">第六届中国云计算大会（大数据读书汇）
</font></a>

</div>                    <link href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/comment1.css" type="text/css" rel="stylesheet">
<link href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/style1.css" type="text/css" rel="stylesheet">
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/main.js"></script>
<div id="article_details" class="details">
    <div class="article_title">   
         <span class="ico ico_type_Original"></span>


    <h1>
        <span class="link_title"><a href="http://blog.csdn.net/innost/article/details/8876392">
        MTP in Android
        </a></span>
    </h1>
</div>

    <div class="article_manage">
        <span class="link_categories">
        分类：
            <a href="http://blog.csdn.net/Innost/article/category/767414" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">Android开发系列</a> 
            <a href="http://blog.csdn.net/Innost/article/category/914244" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_fenlei']);">移动万态</a> 
        </span>
    <span class="link_postdate">2013-05-02 16:18</span>
    <span class="link_view" title="阅读次数">12762人阅读</span>
    <span class="link_comments" title="评论次数"><a href="#comments" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_pinglun'])">评论</a>(23)</span>
    <span class="link_collect"><a href="javascript:void(0);" onclick="javascript:_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shoucang']);collectArticle('MTP in Android','8876392');return false;" title="收藏">收藏</a></span>
    <span class="link_report"><a href="#report" onclick="javascript:_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_jubao']);report(8876392,2);return false;" title="举报">举报</a></span>
    
</div>

    
<div style="clear:both"></div><div style="border:solid 1px #ccc; background:#eee; float:left; min-width:200px;padding:4px 10px;"><p style="text-align:right;margin:0;"><span style="float:left;">目录<a href="#" title="系统根据文章中H1到H6标签自动生成文章目录">(?)</a></span><a href="#" onclick="javascript:return openct(this);" title="收起">[-]</a></p><ol style="margin-left: 14px; padding-left: 14px; line-height: 160%;"><li><a href="#t0">MTP in Android</a></li><ol><li><a href="#t1">一&nbsp; 背景知识介绍</a></li><ol><li><a href="#t2">MTP协议介绍</a></li><li><a href="#t3">OS对MTP的支持及认证</a></li></ol><li><a href="#t4">二 &nbsp;Android中的MTP</a></li><ol><li><a href="#t5">Android中MTP的代码架构</a></li><li><a href="#t6">MTP流程分析</a></li></ol><li><a href="#t7">三&nbsp; 总结</a></li></ol></ol></div><div style="clear:both"></div><div id="article_content" class="article_content">
<p align="left">经作者同意，转发我们公司MTP专家同事huirong的一篇文章。大家也可在程序员第5期看到。</p><h1 align="center"><a name="t0"></a>MTP in Android</h1><p><span style="font-size:18px;"><span style="font-family:Times New Roman;">MTP</span>的全称是<span style="font-family:Times New Roman;">Media Transfer Protocol</span>（媒体传输协议），它是微软公司提出的一套媒体文件传输协议。<span style="font-family:Times New Roman;">Android</span>从<span style="font-family:Times New Roman;">3.0</span>开始支持<span style="font-family:Times New Roman;">MTP</span>。不过，在今天的智能手机领域内，<span style="font-family:Times New Roman;">Google</span>和微软是一对冤家，为什么<span style="font-family:Times New Roman;">Android</span>中会使用<span style="font-family:Times New Roman;">MTP</span>呢？请看下文。</span></p><h2><a name="t1"></a><span style="font-size:18px;">一<span style="font-family:Times New Roman;">&nbsp; </span>背景知识介绍</span></h2><p><span style="font-size:14px;">笔</span><span style="font-size:18px;">者相信《程序员》杂志的绝大多数读者或多或少都使用过<span style="font-family:Times New Roman;">MTP</span>。因为早在智能手机普及前，数码相机和<span style="font-family:Times New Roman;">MP3</span>播放器等都使用了<span style="font-family:Times New Roman;">MTP</span>的前身<span style="font-family:Times New Roman;">PTP</span>（<span style="font-family:Times New Roman;">Picture Transfer Protocol</span>）进行媒体文件传输。那时，只要通过<span style="font-family:Times New Roman;">USB</span>数据线把它们连接上<span style="font-family:Times New Roman;">Windows</span>操作系统，就能在“我的电脑“中见到这些设备了。此后，用户可以把它们当做<span style="font-family:Times New Roman;">U</span>盘一样使用，例如对其进行目录、文件的浏览和拷贝等操作。</span></p><p><span style="font-size:18px;">既然可以通过<span style="font-family:Times New Roman;">MTP</span>把智能设备当作<span style="font-family:Times New Roman;">U</span>盘使用，那么它和我们常用的<span style="font-family:Times New Roman;">USB</span>大容量存储（<span style="font-family:Times New Roman;">USB Mass Storage</span>，简称<span style="font-family:Times New Roman;">UMS</span>）有何不同呢？</span></p><ul><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">UMS</span>模式下，<span style="font-family:Times New Roman;">PC</span>操作存储设备的粒度是设备块（<span style="font-family:Times New Roman;">FAT block</span>），而非文件系统。什么意思？此处举一个简单例子。当<span style="font-family:Times New Roman;">Android</span>手机通过<span style="font-family:Times New Roman;">UMS</span>将<span style="font-family:Times New Roman;">sdcard</span>挂载到<span style="font-family:Times New Roman;">PC</span>后，<span style="font-family:Times New Roman;">PC</span>就拥有对<span style="font-family:Times New Roman;">sdcard</span>的绝对控制权。这样，手机就无法同时访问<span style="font-family:Times New Roman;">sdcard</span>了。这种做法带来的后果就是<span style="font-family:Times New Roman;">Camera</span>或<span style="font-family:Times New Roman;">Music</span>程序将因没有外部存储空间而提示无法进行操作（注意，有些厂商的手机对此进行过修改，使得<span style="font-family:Times New Roman;">Camera</span>能短时间录制一部分视频到内部存储空间）。这也是<span style="font-family:Times New Roman;">Android</span>早期版本中一个很明显的特点。另外，由于<span style="font-family:Times New Roman;">PC</span>在操作<span style="font-family:Times New Roman;">sdcard</span>时可能弄坏其文件系统，这将导致<span style="font-family:Times New Roman;">sdcard</span>重新挂载到手机后不能被识别。</span></li><li><span style="font-size:18px;">如果<span style="font-family:Times New Roman;">Android</span>手机的<span style="font-family:Times New Roman;">sdcard</span>以<span style="font-family:Times New Roman;">MTP</span>模式挂载到<span style="font-family:Times New Roman;">PC</span>机上，<span style="font-family:Times New Roman;">sdcard</span>的控制权其实还是属于手机。只不过智能手机通过<span style="font-family:Times New Roman;">MTP</span>协议向<span style="font-family:Times New Roman;">PC</span>机构建了一个虚拟文件系统。<span style="font-family:Times New Roman;">PC</span>机操作其中的文件时，都会通过标准<span style="font-family:Times New Roman;">MTP</span>协议向智能手机发起请求。另外，<span style="font-family:Times New Roman;">Android</span>把<span style="font-family:Times New Roman;">MTP</span>功能集成在<span style="font-family:Times New Roman;">MediaProvider</span></span><a title="" href="http://write.blog.csdn.net/postedit#_ftn1" name="_ftnref1"><span style="font-size:18px;">[1]</span></a><span style="font-size:18px;">中，其好处是<span style="font-family:Times New Roman;">PC</span>机操作（例如拷贝或删除等）媒体文件时，媒体数据都会及时更新到媒体数据库中。而<span style="font-family:Times New Roman;">UMS</span>模式下，当<span style="font-family:Times New Roman;">sdcard</span>挂载回手机后，<span style="font-family:Times New Roman;">Android</span>还得花较长时间重新扫描媒体文件以更新媒体数据库。</span></li></ul><p><span style="font-size:18px;"><span style="font-family:Times New Roman;">MTP</span>的好处还有很多，例如它可判断<span style="font-family:Times New Roman;">PC</span>机拷贝的媒体文件是否受目标手机支持，甚至可以触发对应的转码程序将其转换成手机支持的格式。不过和<span style="font-family:Times New Roman;">UMS</span>相比，<span style="font-family:Times New Roman;">MTP</span>也有不足之处：</span></p><ul><li><span style="font-size:14px;">传输大文件的速度较慢。</span></li><li><span style="font-family:Times New Roman;font-size:14px;">MTP</span><span style="font-size:14px;">不能直接修改文件本身。只能先拷贝到本地修改，完毕后再拷贝回去。</span></li><li><span style="font-size:14px;">除了<span style="font-family:Times New Roman;">Windows</span></span><span style="font-size:14px;">外，<span style="font-family:Times New Roman;">Linux</span>和<span style="font-family:Times New Roman;">MacOS</span>对<span style="font-family:Times New Roman;">MTP</span>支持还不是很完善。</span></li></ul><p><span style="font-size:18px;">下面我们将介绍<span style="font-family:Times New Roman;">MTP</span>协议。</span></p><h3><a name="t2"></a><span style="font-family:Times New Roman;">1.1&nbsp; MTP</span>协议介绍</h3><p><span style="font-size:18px;">根据协议，<span style="font-family:Times New Roman;">MTP</span>的使用者包括两个部分，分别是<span style="font-family:Times New Roman;">Initiator</span>和<span style="font-family:Times New Roman;">Responder</span>。如图<span style="font-family:Times New Roman;">1-1</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161615915" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-1&nbsp; Initiator</span>和<span style="font-family:Times New Roman;">Responder</span>图示</span></p><p><span style="font-size:18px;">由图<span style="font-family:Times New Roman;">1-1</span>可知：</span></p><ul><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">Initiator</span>：主要是指<span style="font-family:Times New Roman;">USB Host</span>，例如<span style="font-family:Times New Roman;">PC</span>机，笔记本等。协议规定所有<span style="font-family:Times New Roman;">MTP</span>操作只能由<span style="font-family:Times New Roman;">Initator</span>发起。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">Responder</span>：一般是诸如数码相机、智能手机等存储媒体文件的设备。<span style="font-family:Times New Roman;">Responder</span>在<span style="font-family:Times New Roman;">MTP</span>中的作用就是处理<span style="font-family:Times New Roman;">Initator</span>发起的请求。同时，它还会根据自身状态的变化发送<span style="font-family:Times New Roman;">Event</span>以通知<span style="font-family:Times New Roman;">Initiator</span>。</span></li></ul><p><span style="font-size:18px;">注意：后文我们将统一以<span style="font-family:Times New Roman;">PC</span>代表<span style="font-family:Times New Roman;">Initiator</span>，<span style="font-family:Times New Roman;">Android</span>手机代表<span style="font-family:Times New Roman;">Responder</span>。</span></p><p><span style="font-size:18px;">与很多协议一样，<span style="font-family:Times New Roman;">MTP</span>也有自己的协议栈，如图<span style="font-family:Times New Roman;">1-2</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161634421" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-2&nbsp; MTP</span>协议栈</span></p><p><span style="font-size:18px;">由图<span style="font-family:Times New Roman;">1-2</span>可知，<span style="font-family:Times New Roman;">MTP</span>协议栈由下到上分别是：</span></p><ul><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">Pyshical Layer</span>（物理层）：物理层在<span style="font-family:Times New Roman;">MTP</span>协议中用来传输数据。目前有三种物理层可供<span style="font-family:Times New Roman;">MTP</span>使用。它们分别是<span style="font-family:Times New Roman;">USB</span>：其主要特点是传输文件，同步媒体文件时速度快，而且可以边工作边充电，这是目前用的最多的一种方式；<span style="font-family:Times New Roman;">IP</span>：基于<span style="font-family:Times New Roman;">IP</span>的<span style="font-family:Times New Roman;">MTP</span>（简称<span style="font-family:Times New Roman;">MTP/IP</span>）将通过<span style="font-family:Times New Roman;">UPnP</span>来匹配和发现设备。它是家庭网络中是最理想的传输方式；<span style="font-family:Times New Roman;">Bluetooth</span>：<span style="font-family:Times New Roman;">MTP/BT</span>是最省电，同时也是速度最慢的一种传输方式，用处较少。</span></li><li><span style="font-size:18px;">传输层：<span style="font-family:Times New Roman;">MTP</span>中，数据传输格式遵循<span style="font-family:Times New Roman;">PTP</span>协议</span></li><li><span style="font-size:18px;">命令层：实现了<span style="font-family:Times New Roman;">MTP</span>协议中的各种命令。</span></li></ul><p><span style="font-size:18px;">如上文所述，<span style="font-family:Times New Roman;">MTP</span>采用命令<span style="font-family:Times New Roman;">-</span>应答方式来工作（<span style="font-family:Times New Roman;">Initator</span>发送命令给<span style="font-family:Times New Roman;">Responder</span>处理，<span style="font-family:Times New Roman;">Responser</span>反馈处理结果），这种方式的主要特点有：</span></p><ul><li><span style="font-size:18px;">所有<span style="font-family:Times New Roman;">MTP</span>命令均以<span style="font-family:Times New Roman;">Package</span>（数据包）的方式在设备两端进行传递。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">Initiator</span>必须接收到前一条消息的处理结果（不论是成功还是超时）后，才能发送下一条消息。</span></li></ul><p><span style="font-size:18px;">下面我们将以<span style="font-family:Times New Roman;">PC</span>通过<span style="font-family:Times New Roman;">MTP</span>打开一个文件为例，按顺序介绍其中涉及到几个主要<span style="font-family:Times New Roman;">MTP</span>命令：</span></p><ul><li><span style="font-size:18px;">当设备第一次连接上<span style="font-family:Times New Roman;">PC</span>后，<span style="font-family:Times New Roman;">Initiator</span>（即<span style="font-family:Times New Roman;">PC</span>）首先会发送一个名为<span style="font-family:Times New Roman;">GetDeviceInfo</span>的请求以获取设备的信息，这些信息包括设备所支持<span style="font-family:Times New Roman;">PTP</span>版本的程度，以百分号表示（默认是<span style="font-family:Times New Roman;">100</span>）、所支持的<span style="font-family:Times New Roman;">MTP</span>命令（<span style="font-family:Times New Roman;">Operation Supported</span>）、所支持的<span style="font-family:Times New Roman;">Event</span>类型等。</span></li><li><span style="font-size:18px;">接着<span style="font-family:Times New Roman;">PC</span>端会发送<span style="font-family:Times New Roman;">OpenSession</span>命令以创建一个会话，该会话一直保持到设备从<span style="font-family:Times New Roman;">PC</span>上断开为止。此后所有命令（除<span style="font-family:Times New Roman;">GetDeviceInfo</span>命令外）必须在此会话存活期间才能发送。会话在<span style="font-family:Times New Roman;">MTP</span>协议中由<span style="font-family:Times New Roman;">SessionID</span>来标识，它是一个<span style="font-family:Times New Roman;">32</span>位的无符号整型，由<span style="font-family:Times New Roman;">PC</span>选择并传给手机。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">PC</span>端如果要进行文件操作的话，必须从根目录开始定位目标文件。由于<span style="font-family:Times New Roman;">Windows</span>的特殊性，手机内部存储卡在<span style="font-family:Times New Roman;">windows</span>系统中显示为盘符。注意，如果手机内部有两块存储卡的话（如内部存储卡和外部<span style="font-family:Times New Roman;">sd</span>卡），<span style="font-family:Times New Roman;">Windows</span>中会显示为两个盘符。<span style="font-family:Times New Roman;">PC</span>端需要通过<span style="font-family:Times New Roman;">GetStorageIDs</span>命令返回某个盘符对应的<span style="font-family:Times New Roman;">StorageID</span>。在<span style="font-family:Times New Roman;">MTP</span>中，<span style="font-family:Times New Roman;">StorageID</span>是一个<span style="font-family:Times New Roman;">32</span>位无符号整型，每一个<span style="font-family:Times New Roman;">StorageID</span>代表了一个逻辑盘符。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">PC</span>端可以根据上一步的<span style="font-family:Times New Roman;">StorageID</span>号，利用<span style="font-family:Times New Roman;">GetStorageInfo</span>操作去获取存储设备的信息，例如剩余存储空间、文件系统类型、访问权限等。</span></li><li><span style="font-size:18px;">接着，<span style="font-family:Times New Roman;">PC</span>就会通过<span style="font-family:Times New Roman;">GetObjectHandles</span>命令来获取此盘符下的文件和子目录的<span style="font-family:Times New Roman;">Object Handles</span>（一个<span style="font-family:Times New Roman;">Object Handle</span>代表一个文件或目录。该值由<span style="font-family:Times New Roman;">Responder</span>生成并保证唯一性）。有了<span style="font-family:Times New Roman;">Object Handle</span>，<span style="font-family:Times New Roman;">PC</span>就可以操作这些文件或目录了，例如继续通过<span style="font-family:Times New Roman;">GetObjectHandles</span>获取某个目录中子文件和子目录的信息。</span></li><li><span style="font-size:18px;">假设现在需拷贝一个文件到手机上，那么<span style="font-family:Times New Roman;">PC</span>会通过<span style="font-family:Times New Roman;">SendObjectInfo</span>命令将文件信息（如文件名、文件大小）等传递给手机。而手机需要检查目标目录是否有足够的空间和对应权限。</span></li><li><span style="font-size:18px;">如果一切正常，<span style="font-family:Times New Roman;">PC</span>将通过<span style="font-family:Times New Roman;">SendObject</span>把数据传递给手机。真正写文件到设备存储空间的则是手机中的<span style="font-family:Times New Roman;">Responder</span>。<span style="font-family:Times New Roman;">Android</span>实现的<span style="font-family:Times New Roman;">MTP</span>还会在媒体文件传输完毕后，将信息更新到媒体数据库中。</span></li><li><span style="font-size:18px;">除此之外，<span style="font-family:Times New Roman;">PC</span>还可利用<span style="font-family:Times New Roman;">SetObjectPropValue </span>命令来设置文件的各种属性值，如<span style="font-family:Times New Roman;">Audio BitRate</span>（比特率），<span style="font-family:Times New Roman;">Sample Rate</span>（采样率），<span style="font-family:Times New Roman;">Number Of Channels</span>（声道）等。</span></li></ul><p><span style="font-size:18px;">以上为读者描述了<span style="font-family:Times New Roman;">MTP</span>使用的一个简单案例。至于其中的各种<span style="font-family:Times New Roman;">MTP</span>命令，读者不妨阅读参考文献<span style="font-family:Times New Roman;">1</span>，即《<span style="font-family:Times New Roman;">MTP Specification v1.0.pdf</span>》。协议对各种命令都有非常精确的描述，例如表<span style="font-family:Times New Roman;">1-1</span>，表<span style="font-family:Times New Roman;">1-2</span>所示为<span style="font-family:Times New Roman;">GetDeviceInfo</span>命令，返回值定义。其参数类型，传递方向都有详细解释（不得不说，和<span style="font-family:Times New Roman;">Linux</span>比起来，微软的开发<span style="font-family:Times New Roman;">/</span>技术文档做得相当到位）。</span></p><p align="center"><span style="font-size:18px;">表<span style="font-family:Times New Roman;">1-1&nbsp; GetDeviceInfo</span>命令定义</span></p><table border="1" cellpadding="0" cellspacing="0"><tbody><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Operation Code</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">0x1001</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;"><span style="font-family:Times New Roman;">GetDeviceInfo</span>对应命令的数字编号是<span style="font-family:Times New Roman;">0x1001</span></span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Data</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">DeviceInfo dataset</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机端返回的设备信息数据集</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Data Direction</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">R-&gt;I</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">数据传输方向是手机到<span style="font-family:Times New Roman;">PC</span></span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">ResponseCode Options</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">OK, Parameter_Not_Supported</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机给<span style="font-family:Times New Roman;">PC</span>的返回值</span></p></td></tr></tbody></table><p><span style="font-size:18px;">表<span style="font-family:Times New Roman;">1-2</span>所示为<span style="font-family:Times New Roman;">GetDeviceInfo</span>的返回数据集的定义。</span></p><p align="center"><span style="font-size:18px;">表<span style="font-family:Times New Roman;">1-2&nbsp; GetDeviceInfo</span>返回数据集的定义</span></p><div align="center"><table border="1" cellpadding="0" cellspacing="0"><tbody><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Dataset field</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Field order</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Size (bytes)</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Datatype</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Comments</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Standard Version</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">1</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">2</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">UINT16</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机对<span style="font-family:Times New Roman;">PTP</span>协议的支持程度，以<span style="font-family:Times New Roman;">%</span>表示，默认是<span style="font-family:Times New Roman;">100</span></span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">MTP Vendor Extension ID</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">2</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">4</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">UINT32</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机对<span style="font-family:Times New Roman;">PTP</span>厂商扩展协议的支持，默认是<span style="font-family:Times New Roman;">0xFFFFFFFF</span></span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">MTP Version</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">3</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">2</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">UINT16</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机支持的<span style="font-family:Times New Roman;">MTP</span>标准的版本，以<span style="font-family:Times New Roman;">%</span>表示</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">MTP Extensions</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">4</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">String</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机支持的<span style="font-family:Times New Roman;">MTP</span>扩展集</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Functional Mode</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">5</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">2</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">UINT16</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机允许的模式</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Operations Supported</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">6</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Operation Code Array</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">在当前功能模式下，手机支持的所有操作</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Event Supported</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">7</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Event Code Array</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">在当前功能模式下，手机能产生的所有事件</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Device Properties Supported</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">8</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Device Property Code Array</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">在当前功能模式下，手机支持的所有设备属性</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Capture Formats</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">9</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Object Format Code Array</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机可以自己生成的文件格式，不包括拷贝到手机上文件格式</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Playback Formats</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">10</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Object Format Code Array</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机可以解析和理解的所有格式类型</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Manufacturer</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">11</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">String</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">人可读的手机制造商的标识</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Model</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">12</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">String</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">人可读的手机型号</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Device Version</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">13</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">String</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">手机的软件或固件版本</span></p></td></tr><tr><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Serial Number</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">14</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">Variable</span></p></td><td valign="top"><p align="center"><span style="font-family:Times New Roman;font-size:18px;">String</span></p></td><td valign="top"><p align="center"><span style="font-size:18px;">能标明手机<span style="font-family:Times New Roman;">MTP</span>功能的唯一序列号</span></p></td></tr></tbody></table></div><p><span style="font-family:Times New Roman;font-size:18px;">&nbsp;</span></p><h3><a name="t3"></a><span style="font-family:Times New Roman;">1.2&nbsp; OS</span>对<span style="font-family:Times New Roman;">MTP</span>的支持及认证</h3><p><span style="font-size:18px;"><span style="font-family:Times New Roman;">MTP</span>协议既然由微软提出，理所当然，<span style="font-family:Times New Roman;">Windows</span>对其支持自然是不遗余力。目前<span style="font-family:Times New Roman;">Windows</span>操作系统中，<span style="font-family:Times New Roman;">MTP</span>和多媒体框架紧密结合，并且已经成为<span style="font-family:Times New Roman;">Windows Media</span></span><a href="http://baike.baidu.com/view/66971.htm" target="_blank"><span style="font-size:18px;color:windowtext;">框架</span></a><span style="font-size:18px;">中的重要一部分。如<span style="font-family:Times New Roman;">WMP10(Windows Media Player 10)</span>和<span style="font-family:Times New Roman;">WMP11</span>均内置对<span style="font-family:Times New Roman;">MTP</span>功能，其中<span style="font-family:Times New Roman;">WMP11</span>还新增对<span style="font-family:Times New Roman;">Playlist</span>和<span style="font-family:Times New Roman;">Album art</span>的支持。</span></p><p><span style="font-size:18px;">微软除了提出<span style="font-family:Times New Roman;">MTP</span>协议并在<span style="font-family:Times New Roman;">Windows</span>操作系统中提供大力支持外，它对使用<span style="font-family:Times New Roman;">MTP</span>协议的设备也有所管理。所有标称支持<span style="font-family:Times New Roman;">MTP</span>协议的设备，必须通过微软的测试<span style="font-family:Times New Roman;">WLK</span>（<span style="font-family:Times New Roman;">Windows Logo Kit</span>）。<span style="font-family:Times New Roman;">WLK</span>测试通过的设备可以获得一个徽标。关于<span style="font-family:Times New Roman;">WLK</span>测试的详细信息，请读者参考<span style="font-family:Times New Roman;"><a href="http://msdn.microsoft.com/zh-cn/library/windows/hardware/gg487530.aspx">http://msdn.microsoft.com/zh-cn/library/windows/hardware/gg487530.aspx</a></span>。从以上链接中也能下载到wpdmon，</span><span style="font-size:18px;">它是<span style="font-family:Times New Roman;">MTP</span>开发中最常用的测试工具，可显示出所有<span style="font-family:Times New Roman;">PC</span>与手机进行<span style="font-family:Times New Roman;">MTP</span>操作时发送的命令、数据及返回值。图<span style="font-family:Times New Roman;">1-3</span>为笔者测试某台<span style="font-family:Times New Roman;">Android</span>手机的<span style="font-family:Times New Roman;">MTP</span>功能时用<span style="font-family:Times New Roman;">wpdmon</span>截获的信息示意图：</span></p><p align="center"><span style="font-size:18px;"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161656273" alt=""></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-3&nbsp; wpdmon</span>工具使用示意图</span></p><p><span style="font-size:18px;">下面我们来看<span style="font-family:Times New Roman;">MTP</span>在<span style="font-family:Times New Roman;">Android</span>平台中的实现。</span></p><h2><a name="t4"></a><span style="font-size:18px;">二<span style="font-family:Times New Roman;"> &nbsp;Android</span>中的<span style="font-family:Times New Roman;">MTP</span></span></h2><p><span style="font-size:18px;"><span style="font-family:Times New Roman;">Android</span>从<span style="font-family:Times New Roman;">3.0</span>开始集成<span style="font-family:Times New Roman;">MTP</span>功能，主要原因有三个：</span></p><ul><li><span style="font-size:18px;">手机要支持<span style="font-family:Times New Roman;">UMS</span>的话，必须有一个<span style="font-family:Times New Roman;">sd</span>卡，因为<span style="font-family:Times New Roman;">sd</span>卡往往采用<span style="font-family:Times New Roman;">Windows</span>支持的分区格式。如果想把内部存储空间通过<span style="font-family:Times New Roman;">UMS</span>挂载到<span style="font-family:Times New Roman;">Windows</span>上，则内部存储空间需采用特定的分区格式。这对某些手机而言根本不可行。因为内部存储空间本身可能是一个设备，它们采用统一的分区格式。不能因为需要使用<span style="font-family:Times New Roman;">UMS</span>，而再增加一块特定分区格式的存储设备。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">UMS</span>挂载到<span style="font-family:Times New Roman;">PC</span>后，<span style="font-family:Times New Roman;">PC</span>操作系统拥有绝对控制权。此时，<span style="font-family:Times New Roman;">Android</span>系统将无法操作这些设备。根据前文举的<span style="font-family:Times New Roman;">Camera</span>例子而言，这对越来越高级的<span style="font-family:Times New Roman;">Android</span>版本而言是不可接受的。</span></li><li><span style="font-size:18px;">另外一个不可忽略的事实就是<span style="font-family:Times New Roman;">Windows</span>操作系统在普通劳动人民那儿依然占据极高的市场份额。这恐怕也是明知<span style="font-family:Times New Roman;">Linux</span>、<span style="font-family:Times New Roman;">MacOS</span>对<span style="font-family:Times New Roman;">MTP</span>支持力度不够，<span style="font-family:Times New Roman;">Android</span>也要集成它的一个重要原因吧。</span></li></ul><h3><a name="t5"></a><span style="font-family:Times New Roman;">2.1 &nbsp;Android</span>中<span style="font-family:Times New Roman;">MTP</span>的代码架构</h3><p><span style="font-size:18px;">要使用<span style="font-family:Times New Roman;">MTP</span>功能，首先需要在设置中启用<span style="font-family:Times New Roman;">USB</span>连接模式为<span style="font-family:Times New Roman;">MTP</span>，如图<span style="font-family:Times New Roman;">1-4</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161713217" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-4&nbsp; Settings</span>中的<span style="font-family:Times New Roman;">MTP</span>设置</span></p><p><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-4</span>所示为参考机（<span style="font-family:Times New Roman;">Android 4.1</span>版本）中“<span style="font-family:Times New Roman;">USB</span>连接模式”设置。该操作实际上会触发<span style="font-family:Times New Roman;">USB</span>驱动做相应变动。本文不拟讨论其中的过程，读者可参考手机中<span style="font-family:Times New Roman;">init.platform-name.usb.rc</span>文件以查看<span style="font-family:Times New Roman;">Android</span>系统中<span style="font-family:Times New Roman;">USB</span>的模式设置。</span><a name="_GoBack"></a><span style="font-size:18px;">从目前市面上发布的数款<span style="font-family:Times New Roman;">Android 4.0</span>及后续版本的机型来看，<span style="font-family:Times New Roman;">MTP/PTP</span>大有取代<span style="font-family:Times New Roman;">UMS</span>的趋势。</span></p><p><span style="font-size:18px;">根据前文所述，<span style="font-family:Times New Roman;">Android</span>中的<span style="font-family:Times New Roman;">MTP</span>和已有的<span style="font-family:Times New Roman;">MediaProvider</span>模块结合紧密，以更好体现“<span style="font-family:Times New Roman;">Media Transfer</span>”的特性。其主要结构如图<span style="font-family:Times New Roman;">1-5</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161727170" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-5 &nbsp;Android MTP</span>架构图</span></p><p><span style="font-size:18px;">由图<span style="font-family:Times New Roman;">1-5</span>可知<span style="font-family:Times New Roman;">,Android MTP</span>架构由下到上分别是：</span></p><ul><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">C++</span>层包括几个主要对象，如<span style="font-family:Times New Roman;">MtpRequestPacke</span>负责从<span style="font-family:Times New Roman;">USB</span>驱动读取数据，并结构化命令格式及其参数、<span style="font-family:Times New Roman;">MtpDataPacket</span>负责结构化手机要返回给<span style="font-family:Times New Roman;">PC</span>的数据包、<span style="font-family:Times New Roman;">MtpResponsePacket</span>负责结构化手机要给<span style="font-family:Times New Roman;">PC</span>返回的<span style="font-family:Times New Roman;">response</span>。<span style="font-family:Times New Roman;">MtpServer</span>负责解析来自<span style="font-family:Times New Roman;">PC</span>的命令并调用相应的接口函数进行处理。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">Java</span>层包括<span style="font-family:Times New Roman;">UsbReceiver</span>、<span style="font-family:Times New Roman;">MtpService</span>、<span style="font-family:Times New Roman;">MtpServer</span>等对象。其中<span style="font-family:Times New Roman;">UsbReceiver</span>用来监视<span style="font-family:Times New Roman;">USB</span>事件，判断何时启动或停止<span style="font-family:Times New Roman;">MtpService</span>。<span style="font-family:Times New Roman;">MtpService</span>负责启动<span style="font-family:Times New Roman;">MtpServer</span>和加载存储设备的信息到数据库。<span style="font-family:Times New Roman;">MtpServer</span>负责通过<span style="font-family:Times New Roman;">jni</span>接口去启动<span style="font-family:Times New Roman;">/</span>停止<span style="font-family:Times New Roman;">C++</span>层中<span style="font-family:Times New Roman;">MtpServer</span>以及处理<span style="font-family:Times New Roman;">Storage</span>的添加和删除。<span style="font-family:Times New Roman;">MediaProvider</span>则负责查询和更新数据库。<span style="font-family:Times New Roman;">MtpDatabase</span>名字虽然叫<span style="font-family:Times New Roman;">Database</span>，但实际功能用于在<span style="font-family:Times New Roman;">MediaProvider</span>和<span style="font-family:Times New Roman;">MtpServer</span>之间转换数据格式。例如把<span style="font-family:Times New Roman;">MTP</span>传递过来的信息（如文件大小、文件路径等）转换成<span style="font-family:Times New Roman;">MediaProvider</span>需要的格式以方便其更新数据库。</span></li></ul><p><span style="font-size:18px;">下面我们来看<span style="font-family:Times New Roman;">MTP</span>的工作流程。</span></p><h3><a name="t6"></a><span style="font-family:Times New Roman;">2.2&nbsp; MTP</span>流程分析</h3><p><span style="font-size:18px;">我们先来看<span style="font-family:Times New Roman;">MTP</span>模块启动的流程，如图<span style="font-family:Times New Roman;">1-6</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161741654" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-6 &nbsp;MTP</span>主要模块启动流程</span></p><p><span style="font-size:18px;">由图<span style="font-family:Times New Roman;">1-6</span>可知：</span></p><ul><li><span style="font-size:18px;">当手机连上<span style="font-family:Times New Roman;">usb</span>线后，<span style="font-family:Times New Roman;">UsbReceiver</span>会收到来自系统的<span style="font-family:Times New Roman;">USB_STATE</span>广播事件。接着它需要从<span style="font-family:Times New Roman;">UsbManager</span>中查询<span style="font-family:Times New Roman;">USB</span>的链接状态，<span style="font-family:Times New Roman;">MTP</span>的设置信息和<span style="font-family:Times New Roman;">PTP</span>的设置信息。当用户设置为使用<span style="font-family:Times New Roman;">MTP</span>模式时，<span style="font-family:Times New Roman;">UsbReceiver</span>将通过<span style="font-family:Times New Roman;">startService</span>函数启动<span style="font-family:Times New Roman;">MtpService</span>。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">MtpService</span>启动，在其<span style="font-family:Times New Roman;">onStartCommand</span>中将创建<span style="font-family:Times New Roman;">MtpDatabase</span>对象和<span style="font-family:Times New Roman;">MtpServer</span>对象。</span></li><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">UsbReceiver</span>同时通过<span style="font-family:Times New Roman;">insert</span>一条特殊<span style="font-family:Times New Roman;">uri</span>（值为“<span style="font-family:Times New Roman;">content://media/none/mtp_connected</span>”）的方式，触发<span style="font-family:Times New Roman;">MdiaProvder</span>调用<span style="font-family:Times New Roman;">MtpService</span>的<span style="font-family:Times New Roman;">bindService</span>函数。这样，<span style="font-family:Times New Roman;">MediaProvider</span>和<span style="font-family:Times New Roman;">MtpService</span>就建立了紧密联系。</span></li></ul><p><span style="font-size:18px;"><span style="font-family:Times New Roman;">MtpServer</span>是<span style="font-family:Times New Roman;">Android</span>平台中<span style="font-family:Times New Roman;">MTP</span>协议处理的核心模块，它会单独启动一个线程用于接收<span style="font-family:Times New Roman;">PC</span>端的命令，其代码如图<span style="font-family:Times New Roman;">1-7</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161754975" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-7 &nbsp;MtpServer run</span>函数代码片段</span></p><p><span style="font-size:18px;">由图<span style="font-family:Times New Roman;">1-7</span>可知，<span style="font-family:Times New Roman;">MtpServer</span>不断从文件描述符读取请求，然后调用<span style="font-family:Times New Roman;">handleRequest</span>进行处理。最后把处理结果返回给对端。</span></p><p><span style="font-size:18px;">从这段代码读者可以发现，<span style="font-family:Times New Roman;">Android MTP</span>命令层和物理层之间的耦合度较低，这样也方便将来实现<span style="font-family:Times New Roman;">MTP/IP</span>功能。</span></p><p><span style="font-size:18px;">接下来我们看看<span style="font-family:Times New Roman;">PC</span>端发送<span style="font-family:Times New Roman;">SendObjectInfo</span>的处理流程，如图<span style="font-family:Times New Roman;">1-8</span>所示：</span></p><p align="center"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20130502161809209" alt=""><span style="font-size:18px;"></span></p><p align="center"><span style="font-size:18px;">图<span style="font-family:Times New Roman;">1-8&nbsp; sendObjectInfo</span>处理流程图</span></p><p><span style="font-size:18px;">由图<span style="font-family:Times New Roman;">1-8</span>可知<span style="font-family:Times New Roman;">SendObjectInfo</span>的处理流程大体步骤如下：</span></p><ul><li><span style="font-size:18px;"><span style="font-family:Times New Roman;">PC</span>发<span style="font-family:Times New Roman;">SendObjectInfo</span>命令给<span style="font-family:Times New Roman;">MtpServer</span>。<span style="font-family:Times New Roman;">MtpServer</span>需要检查存储设备剩余空间、可支持的最大文件大小。如果一切正常的话，它会通过<span style="font-family:Times New Roman;">MediaProvider</span>的<span style="font-family:Times New Roman;">insert</span>函数往媒体数据库中加入一条数据项。</span></li><li><span style="font-size:18px;">接着<span style="font-family:Times New Roman;">PC</span>通过<span style="font-family:Times New Roman;">SendObject</span>将文件内容传递给给<span style="font-family:Times New Roman;">MtpServer</span>。而<span style="font-family:Times New Roman;">MtpServer</span>就会创建该文件，并把数据写到文件中。</span></li><li><span style="font-size:18px;">当文件数据发送完毕，<span style="font-family:Times New Roman;">MtpServer</span>调用<span style="font-family:Times New Roman;">endSendObject</span>。而<span style="font-family:Times New Roman;">endObject</span>则会触发<span style="font-family:Times New Roman;">MediaScanner</span>进行媒体文件扫描。当然，扫描完后，该文件携带的媒体信息（假如是<span style="font-family:Times New Roman;">MP3</span>文件的话，则会把专辑信息、歌手、流派、长度等内容）加入到媒体数据库中。</span></li></ul><p><span style="font-size:18px;">通过对<span style="font-family:Times New Roman;">SendObjectInfo</span>描述，我们也可看出，<span style="font-family:Times New Roman;">Android</span>充分利用了其平台本身的特性，真正将媒体传输协议和媒体文件扫描恰到好处得结合起来，从而发挥了<span style="font-family:Times New Roman;">MTP</span>最大功效。</span></p><h2><a name="t7"></a><span style="font-size:18px;">三<span style="font-family:Times New Roman;">&nbsp; </span>总结</span></h2><p><span style="font-size:18px;">本文主要对<span style="font-family:Times New Roman;">Android</span>中的<span style="font-family:Times New Roman;">MTP</span>进行了相关介绍。虽然<span style="font-family:Times New Roman;">MTP</span>协议由微软提供，但因为历史原因，其使用程度相当广泛，以至于<span style="font-family:Times New Roman;">Android</span>也提供了最基本的<span style="font-family:Times New Roman;">MTP</span>实现。</span></p><p><span style="font-size:18px;">当然，如果要做到真正实用并通过微软认证，手机厂商还需要在此基础上做进一步的开发。结合笔者自己的使用经历，国外大牌手机厂商例如<span style="font-family:Times New Roman;">Sony</span>、<span style="font-family:Times New Roman;">Samsung</span>、<span style="font-family:Times New Roman;">Nokia</span>等对<span style="font-family:Times New Roman;">MTP</span>的支持相当到位。相比而言，国内手机厂商的起步稍微晚一点，需要投入更多的精力才能超越。另外，随着无线技术的普及，<span style="font-family:Times New Roman;">MTP</span>基于<span style="font-family:Times New Roman;">IP</span>的实现也将极大方面用户的使用。笔者在此希望大家能一起努力，早日让用户从<span style="font-family:Times New Roman;">USB</span>数据线中解放出来。</span></p><p></p><hr align="left" size="1" width="33%"><p></p><div><div id="ftn1"><p><a title="" href="http://write.blog.csdn.net/postedit#_ftnref1" name="_ftn1">[1]</a><span style="font-size:12px;">关于<span style="font-family:Times New Roman;">MediaProvider</span>，读者可阅读《深入理解<span style="font-family:Times New Roman;">Android </span>卷<span style="font-family:Times New Roman;">I</span>》第<span style="font-family:Times New Roman;">10</span>章《深入理解<span style="font-family:Times New Roman;">MediaScanner</span>》。</span></p></div></div>
</div>



<!-- Baidu Button BEGIN -->
<div id="bdshare" class="bdshare_t bds_tools get-codes-bdshare" style="float: right;">
<a href="#" title="分享到QQ空间" class="bds_qzone"></a>
<a href="#" title="分享到新浪微博" class="bds_tsina"></a>
<a href="#" title="分享到腾讯微博" class="bds_tqq"></a>
<a href="#" title="分享到人人网" class="bds_renren"></a>
<a href="#" title="分享到网易微博" class="bds_t163"></a>
<span class="bds_more">更多</span>
<a title="累计分享6次" href="#" class="shareCount">6</a>
</div>
<!-- Baidu Button END -->


<!--192.168.100.34-->
<ul class="article_next_prev">
</ul>

<!-- Baidu Button BEGIN -->
<script src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/bds_s_v2.js" type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434"></script>

<script type="text/javascript">
    document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date()/3600000)
</script>
<!-- Baidu Button END -->

        <div id="digg" articleid="8876392">
            <dl id="btnDigg" class="digg digg_enable">
                <dt onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_ding'])">顶</dt>
                <dd>9</dd>
            </dl>
            <dl id="btnBury" class="digg digg_enable">
                <dt onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_cai'])">踩</dt>
                <dd>0</dd>
            </dl>
        </div>
</div>
      <dl class="blog-associat-tag">
        <dt>主题推荐</dt>
        <dd>
                <a href="http://www.csdn.net/tag/%E3%80%8A%E7%A8%8B%E5%BA%8F%E5%91%98%E3%80%8B%E6%9D%82%E5%BF%97" target="_blank" class="blog-tage-red">《程序员》杂志</a> 
                <a href="http://www.csdn.net/tag/%E6%89%8B%E6%9C%BA%E5%88%B6%E9%80%A0%E5%95%86" target="_blank" class="blog-tage-red">手机制造商</a> 
                <a href="http://www.csdn.net/tag/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F" target="_blank" class="blog-tage-red">操作系统</a> 
                <a href="http://www.csdn.net/tag/%E6%99%BA%E8%83%BD%E6%89%8B%E6%9C%BA" target="_blank" class="blog-tage-red">智能手机</a> 
                <a href="http://www.csdn.net/tag/%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" target="_blank" class="blog-tage-red">文件系统</a> 
        </dd>
    </dl> 
    <dl class="blog-ass-articl tracking-ad" data-mod="popu_17">
        <dt><span>博文推荐</span></dt>
            <dd>
                <a href="http://blog.csdn.net/u013067629/article/details/26556383" title="Android开发 Launcher源码初体验" target="_blank">Android开发 Launcher源码...</a></dd>
            <dd>
                <a href="http://blog.csdn.net/syt10086/article/details/26504045" title="优盘安装Windows 7、8系统" target="_blank">优盘安装Windows 7、8系统</a></dd>
            <dd>
                <a href="http://blog.csdn.net/GAMEloft9/article/details/26507731" title="安装操作系统的各种方法及适用范围" target="_blank">安装操作系统的各种方法及适用范围</a></dd>
            <dd>
                <a href="http://blog.csdn.net/chenhao0568/article/details/26496311" title="51系列小型操作系统精髓 简单实现7 C语言版待改进" target="_blank">51系列小型操作系统精髓 简单实现7 C...</a></dd>
            <dd>
                <a href="http://blog.csdn.net/championchen79/article/details/26494187" title="不让政府系统用Windows 8，他们用什么？" target="_blank">不让政府系统用Windows 8，他们用...</a></dd>
            <dd>
                <a href="http://blog.csdn.net/yubaoma/article/details/26476679" title="文件导入sdcard下报错，Read-only file system" target="_blank">文件导入sdcard下报错，Read-o...</a></dd>
            <dd>
                <a href="http://blog.csdn.net/u012520030/article/details/26473187" title="minix 3.1.8 文件系统解读" target="_blank">minix 3.1.8 文件系统解读</a></dd>
            <dd>
                <a href="http://blog.csdn.net/fengkuangshixisheng/article/details/26469263" title="计算机操作系统进程间的切换" target="_blank">计算机操作系统进程间的切换</a></dd>
    </dl>



    <div id="ad_cen">
        <script type="text/javascript">            BAIDU_CLB_SLOT_ID = "117306";</script>
        <script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/o.js"></script><div id="BAIDU_DUP_wrapper_117306_0"></div><script charset="utf-8" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ecom"></script><script charset="utf-8" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/fixed7o.js"></script><script type="text/javascript"><!--
google_ad_client = "ca-pub-1076724771190722";
/* blog正文下方728x90 */
google_ad_slot = "4497271841";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/show_ads.js">
</script><ins style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" frameborder="0" height="90" scrolling="no" width="728"></iframe></ins></ins>
    </div>
    <script type="text/javascript">
        //new Ad(4, 'ad_cen');
    </script>
<div id="comment_title" class="panel_head">
    查看评论<a name="comments"></a></div>
<div id="comment_list"><dl class="comment_item comment_topic" id="comment_item_3770967"><dt class="comment_head" floor="14">14楼 <span class="user"><a class="username" href="http://blog.csdn.net/paoshapaoxue" target="_blank">paoshapaoxue</a> <span class="ptime">2014-04-25 11:24发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3770967" username="paoshapaoxue"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/paoshapaoxue" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_paoshapaoxue.gif" height="40" width="40"></a></dd><dd class="comment_body">邓老师，您好。请问您有没有针对android原生应用的内容啊？想学习看看这些原生应用代码的分析。</dd></dl><dl class="comment_item comment_topic" id="comment_item_3770963"><dt class="comment_head" floor="13">13楼 <span class="user"><a class="username" href="http://blog.csdn.net/paoshapaoxue" target="_blank">paoshapaoxue</a> <span class="ptime">2014-04-25 11:24发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3770963" username="paoshapaoxue"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/paoshapaoxue" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_paoshapaoxue.gif" height="40" width="40"></a></dd><dd class="comment_body">邓老师，您好。请问您有没有针对android原生应用的内容啊？想学习看看这些原生应用代码的分析。</dd></dl><dl class="comment_item comment_topic" id="comment_item_3770961"><dt class="comment_head" floor="12">12楼 <span class="user"><a class="username" href="http://blog.csdn.net/paoshapaoxue" target="_blank">paoshapaoxue</a> <span class="ptime">2014-04-25 11:24发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3770961" username="paoshapaoxue"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/paoshapaoxue" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_paoshapaoxue.gif" height="40" width="40"></a></dd><dd class="comment_body">邓老师，您好。请问您有没有针对android原生应用的内容啊？想学习看看这些原生应用代码的分析。</dd></dl><dl class="comment_item comment_topic" id="comment_item_3770959"><dt class="comment_head" floor="11">11楼 <span class="user"><a class="username" href="http://blog.csdn.net/paoshapaoxue" target="_blank">paoshapaoxue</a> <span class="ptime">2014-04-25 11:24发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3770959" username="paoshapaoxue"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/paoshapaoxue" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_paoshapaoxue.gif" height="40" width="40"></a></dd><dd class="comment_body">邓老师，您好。请问您有没有针对android原生应用的内容啊？想学习看看这些原生应用代码的分析。</dd></dl><dl class="comment_item comment_topic" id="comment_item_3570685"><dt class="comment_head" floor="10">10楼 <span class="user"><a class="username" href="http://blog.csdn.net/tianshiyalin" target="_blank">zzw--开发小农</a> <span class="ptime">2014-03-11 15:35发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3570685" username="tianshiyalin"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/tianshiyalin" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_tianshiyalin.jpg" height="40" width="40"></a></dd><dd class="comment_body">有人收到邓工发的wpdmon这个工具吗？如果有有的话，发我一份，我的邮件是tianshiyalin1122@126.com</dd></dl><dl class="comment_item comment_topic" id="comment_item_3473889"><dt class="comment_head" floor="9">9楼 <span class="user"><a class="username" href="http://blog.csdn.net/victorywu" target="_blank">victorywu</a> <span class="ptime">2014-02-12 13:55发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3473889" username="victorywu"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/victorywu" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_victorywu.gif" height="40" width="40"></a></dd><dd class="comment_body">老师传一个 wpdmon.exe 给我啊   邮箱  493316701@qq.com</dd></dl><dl class="comment_item comment_topic" id="comment_item_3334497"><dt class="comment_head" floor="8">8楼 <span class="user"><a class="username" href="http://blog.csdn.net/gtrand" target="_blank">gtrand</a> <span class="ptime">2013-12-27 19:55发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3334497" username="gtrand"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/gtrand" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_gtrand.gif" height="40" width="40"></a></dd><dd class="comment_body">有
个问题想请教一下，我现在用android4.3 用MTP模式连接PC机，但是PC机双击打开照片windows 
view就hang，但是右键open就可以用windows 
view看到图片。如果把图片拷贝出来到windows，再拷贝回去，就可以双击打开。这到底是MTP哪里出了问题吗？还是我的图片存储的有问题？非常感
谢。</dd><dl class="comment_item comment_reply" id="comment_item_3340359"><dt class="comment_head" floor="8">Re: <span class="user"><a class="username" href="http://blog.csdn.net/gtrand" target="_blank">gtrand</a> <span class="ptime">2013-12-29 15:55发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3340359" username="gtrand"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/gtrand" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_gtrand.gif" height="40" width="40"></a></dd><dd class="comment_body">回复gtrand：老师，能否给些建议呢？非常感谢。</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_3176861"><dt class="comment_head" floor="7">7楼 <span class="user"><a class="username" href="http://blog.csdn.net/zzbbfhjj" target="_blank">zzbbfhjj</a> <span class="ptime">2013-11-21 11:45发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3176861" username="zzbbfhjj"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zzbbfhjj" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_zzbbfhjj.gif" height="40" width="40"></a></dd><dd class="comment_body">Initiator是怎么发出operation的阿？刚刚看这个，有好多不懂，问的问题有点浅薄，还请见谅阿！</dd><dl class="comment_item comment_reply" id="comment_item_3177633"><dt class="comment_head" floor="7">Re: <span class="user"><a class="username" href="http://blog.csdn.net/Innost" target="_blank">阿拉神农</a> <span class="ptime">2013-11-21 15:56发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3177633" username="Innost"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Innost" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_innost.jpg" height="40" width="40"></a></dd><dd class="comment_body">回复zzbbfhjj：PC机客户端+MTP驱动发的。你应该不用关心这个吧？把Responder实现就行了</dd><dl class="comment_item comment_reply" id="comment_item_3177923"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/zzbbfhjj" target="_blank">zzbbfhjj</a> <span class="ptime">2013-11-21 16:49发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3177923" username="zzbbfhjj"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zzbbfhjj" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_zzbbfhjj.gif" height="40" width="40"></a></dd><dd class="comment_body">回复Innost：因为我发送了一个Event之后，希望可以收到一个GetStorageInfo的operation，可是没有收到，所以我想问它是怎么选择发送operation的。还是我这边的Responder没有做好呢？</dd><dl class="comment_item comment_reply" id="comment_item_3177945"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/Innost" target="_blank">阿拉神农</a> <span class="ptime">2013-11-21 16:52发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3177945" username="Innost"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Innost" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_innost.jpg" height="40" width="40"></a></dd><dd class="comment_body">回复zzbbfhjj：那你只能看标准协议了，另外建议你找一个已经实现了MTP的设备来测试，看看人家发的命令和相关参数。</dd><dl class="comment_item comment_reply" id="comment_item_3180735" style="margin-left:0;"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/zzbbfhjj" target="_blank">zzbbfhjj</a> <span class="ptime">2013-11-22 09:34发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="3180735" username="zzbbfhjj"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/zzbbfhjj" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_zzbbfhjj.gif" height="40" width="40"></a></dd><dd class="comment_body">回复Innost：找了一些安卓手机，测试Mtp，发现都没有发出那个operation。⊙︿⊙</dd></dl></dl></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_2893711"><dt class="comment_head" floor="6">6楼 <span class="user"><a class="username" href="http://blog.csdn.net/mingyeju" target="_blank">mingyeju</a> <span class="ptime">2013-09-05 13:27发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2893711" username="mingyeju"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/mingyeju" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_mingyeju.gif" height="40" width="40"></a></dd><dd class="comment_body">您好，邓老师，如果我同时连接了多台手机，想往指定手机里传入文件，这个用MTP能够做到吗？</dd><dl class="comment_item comment_reply" id="comment_item_2893713"><dt class="comment_head" floor="6">Re: <span class="user"><a class="username" href="http://blog.csdn.net/Innost" target="_blank">阿拉神农</a> <span class="ptime">2013-09-05 13:28发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2893713" username="Innost"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Innost" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_innost.jpg" height="40" width="40"></a></dd><dd class="comment_body">回复mingyeju：MTP最早用在数码相机里的。你觉得连着多台数码相机，windows会是什么反应？呵呵</dd></dl></dl><dl class="comment_item comment_topic" id="comment_item_2889701"><dt class="comment_head" floor="5">5楼 <span class="user"><a class="username" href="http://blog.csdn.net/lincyang" target="_blank">全速前行</a> <span class="ptime">2013-09-04 02:13发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2889701" username="lincyang"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/lincyang" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_lincyang.jpg" height="40" width="40"></a></dd><dd class="comment_body">wpdmon没有下载到，链接中提到的工具链好像不太对了。如果能给个直接下载此工具的地址就更好了。谢谢。</dd></dl><dl class="comment_item comment_topic" id="comment_item_2740475"><dt class="comment_head" floor="4">4楼 <span class="user"><a class="username" href="http://blog.csdn.net/piaomiaorener" target="_blank">piaomiaorener</a> <span class="ptime">2013-07-19 13:04发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2740475" username="piaomiaorener"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/piaomiaorener" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_piaomiaorener.gif" height="40" width="40"></a></dd><dd class="comment_body">不错非常好感谢，以后多写这样的文章</dd></dl><dl class="comment_item comment_topic" id="comment_item_2638190"><dt class="comment_head" floor="3">3楼 <span class="user"><a class="username" href="http://blog.csdn.net/chirongbo" target="_blank">chirongbo</a> <span class="ptime">2013-05-22 16:55发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2638190" username="chirongbo"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chirongbo" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_chirongbo.gif" height="40" width="40"></a></dd><dd class="comment_body">或者传到我邮箱里啊，526301583@qq.com,多谢啊</dd><dl class="comment_item comment_reply" id="comment_item_2638201"><dt class="comment_head" floor="3">Re: <span class="user"><a class="username" href="http://blog.csdn.net/Innost" target="_blank">阿拉神农</a> <span class="ptime">2013-05-22 17:00发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2638201" username="Innost"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Innost" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_innost.jpg" height="40" width="40"></a></dd><dd class="comment_body">回复chirongbo：huirongpmi@gmail.com  和作者直接联系。</dd><dl class="comment_item comment_reply" id="comment_item_2638594"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/chirongbo" target="_blank">chirongbo</a> <span class="ptime">2013-05-22 22:06发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2638594" username="chirongbo"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chirongbo" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_chirongbo.gif" height="40" width="40"></a></dd><dd class="comment_body">回复Innost：好的，多谢指点</dd></dl></dl></dl><dl class="comment_item comment_topic" id="comment_item_2638187"><dt class="comment_head" floor="2">2楼 <span class="user"><a class="username" href="http://blog.csdn.net/chirongbo" target="_blank">chirongbo</a> <span class="ptime">2013-05-22 16:54发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2638187" username="chirongbo"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/chirongbo" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_chirongbo.gif" height="40" width="40"></a></dd><dd class="comment_body">邓老师你好，能不能把wpdmon工作上传一下，我搞了半天没有下载下来啊。</dd></dl><dl class="comment_item comment_topic" id="comment_item_2625671"><dt class="comment_head" floor="1">1楼 <span class="user"><a class="username" href="http://blog.csdn.net/changchuzhangqi" target="_blank">changchuzhangqi</a> <span class="ptime">2013-05-12 18:37发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2625671" username="changchuzhangqi"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/changchuzhangqi" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_changchuzhangqi.gif" height="40" width="40"></a></dd><dd class="comment_body">您好，邓老师，我有个问题想问您，希望您在闲暇的时间可以回答一下。<br><br>我用android做服务器（这个实现了），我在web端通过手机的3g卡向它发请求，它收不到，我知道3g的ip是随机分配的，不是公网ip。请问有什么办法通过3g卡能连接到android服务器呢？</dd><dl class="comment_item comment_reply" id="comment_item_2626011"><dt class="comment_head" floor="1">Re: <span class="user"><a class="username" href="http://blog.csdn.net/Innost" target="_blank">阿拉神农</a> <span class="ptime">2013-05-13 07:05发表</span>  <a href="#reply" class="cmt_btn reply" title="回复">[回复]</a> <span class="comment_manage" style="display:none;" commentid="2626011" username="Innost"> <a href="#quote" class="cmt_btn quote" title="引用">[引用]</a> <a href="#report" class="cmt_btn report" title="举报">[举报]</a></span></span></dt><dd class="comment_userface"><a href="http://blog.csdn.net/Innost" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/3_innost.jpg" height="40" width="40"></a></dd><dd class="comment_body">回复changchuzhangqi：android服务器是公网的ip就可以了。3g卡可以连互联网网络，为什么不能连其他位于公网的ip呢？你在公司的机器不一样是局域网内部ip，为什么可以连互联网？估计3g网有自己的网关。</dd></dl></dl><div class="clear"></div></div>
<div style="display: none;" id="comment_bar">
</div>
<div id="comment_form"><a name="commentbox"></a><a name="reply"></a><a name="quote"></a><form action="/Innost/comment/submit?id=8876392" method="post" onsubmit="return subform(this);"><div class="commentform"><div class="panel_head">发表评论</div><ul><li class="left">用 户 名：</li><li class="right">hao1056531028</li></ul><ul><li class="left">评论内容：</li><li class="right" style="position:relative;"><div id="ubbtools"><a href="#insertcode" code="code"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/code.gif" alt="插入代码" title="插入代码" border="0"></a></div><div id="lang_list" style="position: absolute; top: 28px; left: 0px; display: none;"><a class="long_name" href="#html">HTML/XML</a><a class="long_name" href="#objc">objective-c</a><a class="zhong_name" href="#delphi">Delphi</a><a class="zhong_name" href="#ruby">Ruby</a><a href="#php">PHP</a><a class="duan_name" href="#csharp">C#</a><a style=" border-right: none;" class="duan_name" href="#cpp">C++</a><a style=" border-bottom:none;" class="long_name" href="#javascript">JavaScript</a><a style=" border-bottom:none;" class="long_name" href="#vb">Visual Basic</a><a style=" border-bottom:none;" class="zhong_name" href="#python">Python</a><a style=" border-bottom:none;" class="zhong_name" href="#java">Java</a><a style="border-bottom:none;" class="duan_name" href="#css">CSS</a><a style="border-bottom:none;" class="duan_name" href="#sql">SQL</a><a style="border:none;" class="duan_name" href="#plain">其它</a></div><textarea class="comment_content" name="comment_content" id="comment_content" style="width: 400px; height: 200px;"></textarea></li></ul><ul><input id="comment_replyId" name="comment_replyId" type="hidden"><input id="comment_userId" name="comment_userId" value="521203" type="hidden"><input id="commentId" name="commentId" value="" type="hidden"><input class="comment_btn" value="提交" type="submit">&nbsp;&nbsp;<span id="tip_comment" style="color: Red; display: none;"></span></ul></div></form></div>
<div class="announce">
    * 以上用户言论只代表其个人观点，不代表CSDN网站的观点或立场<a name="reply"></a><a name="quote"></a></div>
<script type="text/javascript">
    var fileName = '8876392';
    var commentscount = 23;
    var islock = false
</script>
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/comment.js"></script>
    <div id="ad_bot">
    <iframe src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ad.html" style="border-width: 0px; overflow: hidden; width: 984px; height: 0px;" id="ad_frm_0" frameborder="0" scrolling="no"></iframe></div>
    <script type="text/javascript">
    new Ad(5, 'ad_bot');
    </script>
<div id="report_dialog">
</div>

<div id="d-top" style="bottom:60px;">
      

       <a id="quick-reply" class="btn btn-top q-reply" title="快速回复" style="">
            <img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/blog-icon-reply.png" alt="快速回复">
        </a>    

    <a id="d-top-a" class="btn btn-top backtop" style="" title="返回顶部" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_huidaodingbu'])">         
         <img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/top.png" alt="TOP">
    </a>
</div>
<script type="text/javascript">
    $(function ()
    {
        if($("#comment_content").length>0)
        {
            $("#quick-reply").show();

            $("#quick-reply").click(function(){
                setEditorFocus();
            });
        }       
     
        var d_top = $('#d-top-a');
        document.onscroll = function ()
        {
            var scrTop = (document.body.scrollTop || document.documentElement.scrollTop);
            if (scrTop > 500)
            {
                d_top.show();
            } else
            {
                d_top.hide();
            }
        }
        $('#d-top-a').click(function ()
        {
            scrollTo(0, 0);
            this.blur();
            return false;
        });
    });
  
</script>
<style type="text/css">
    .tag_list
    {
        background: none repeat scroll 0 0 #FFFFFF;
        border: 1px solid #D7CBC1;
        color: #000000;
        font-size: 12px;
        line-height: 20px;
        list-style: none outside none;
        margin: 10px 2% 0 1%;
        padding: 1px;
    }
    .tag_list h5
    {
        background: none repeat scroll 0 0 #E0DBD3;
        color: #47381C;
        font-size: 12px;
        height: 24px;
        line-height: 24px;
        padding: 0 5px;
        margin: 0;
    }
    .tag_list h5 a
    {
        color: #47381C;
    }
    .classify
    {
        margin: 10px 0;
        padding: 4px 12px 8px;
    }
    .classify a
    {
        margin-right: 20px;
        white-space: nowrap;
    }
</style>
<div class="tag_list">
    <h5>
        <a href="http://www.csdn.net/tag/" target="_blank">核心技术类目</a></h5>
    <div class="classify">
<a title="全部主题" href="http://www.csdn.net/tag" target="_blank" onclick="LogClickCount(this,336);">全部主题</a>
<a title="Java" href="http://www.csdn.net/tag/Java" target="_blank" onclick="LogClickCount(this,336);">Java</a>
<a title="VPN" href="http://www.csdn.net/tag/vpn" target="_blank" onclick="LogClickCount(this,336);">VPN</a>
<a title="Android" href="http://www.csdn.net/tag/android" target="_blank" onclick="LogClickCount(this,336);">Android</a>
<a title="iOS" href="http://www.csdn.net/tag/ios" target="_blank" onclick="LogClickCount(this,336);">iOS</a>
<a title="ERP" href="http://www.csdn.net/tag/erp" target="_blank" onclick="LogClickCount(this,336);">ERP</a>
<a title="IE10" href="http://www.csdn.net/tag/ie10" target="_blank" onclick="LogClickCount(this,336);">IE10</a>
<a title="Eclipse" href="http://www.csdn.net/tag/eclipse" target="_blank" onclick="LogClickCount(this,336);">Eclipse</a>
<a title="CRM" href="http://www.csdn.net/tag/crm" target="_blank" onclick="LogClickCount(this,336);">CRM</a>
<a title="JavaScript" href="http://www.csdn.net/tag/javascript" target="_blank" onclick="LogClickCount(this,336);">JavaScript</a>
<a title="Ubuntu" href="http://www.csdn.net/tag/ubuntu" target="_blank" onclick="LogClickCount(this,336);">Ubuntu</a>
<a title="NFC" href="http://www.csdn.net/tag/nfc" target="_blank" onclick="LogClickCount(this,336);">NFC</a>
<a title="WAP" href="http://www.csdn.net/tag/wap" target="_blank" onclick="LogClickCount(this,336);">WAP</a>
<a title="jQuery" href="http://www.csdn.net/tag/jquery" target="_blank" onclick="LogClickCount(this,336);">jQuery</a>
<a title="数据库" href="http://www.csdn.net/tag/%E6%95%B0%E6%8D%AE%E5%BA%93" target="_blank" onclick="LogClickCount(this,336);">数据库</a>
<a title="BI" href="http://www.csdn.net/tag/bi" target="_blank" onclick="LogClickCount(this,336);">BI</a>
<a title="HTML5" href="http://www.csdn.net/tag/html5" target="_blank" onclick="LogClickCount(this,336);">HTML5</a>
<a title="Spring" href="http://www.csdn.net/tag/spring" target="_blank" onclick="LogClickCount(this,336);">Spring</a>
<a title="Apache" href="http://www.csdn.net/tag/apache" target="_blank" onclick="LogClickCount(this,336);">Apache</a>
<a title="Hadoop" href="http://www.csdn.net/tag/hadoop" target="_blank" onclick="LogClickCount(this,336);">Hadoop</a>
<a title=".NET" href="http://www.csdn.net/tag/.net" target="_blank" onclick="LogClickCount(this,336);">.NET</a>
<a title="API" href="http://www.csdn.net/tag/api" target="_blank" onclick="LogClickCount(this,336);">API</a>
<a title="HTML" href="http://www.csdn.net/tag/html" target="_blank" onclick="LogClickCount(this,336);">HTML</a>
<a title="SDK" href="http://www.csdn.net/tag/sdk" target="_blank" onclick="LogClickCount(this,336);">SDK</a>
<a title="IIS" href="http://www.csdn.net/tag/iis" target="_blank" onclick="LogClickCount(this,336);">IIS</a>
<a title="Fedora" href="http://www.csdn.net/tag/fedora" target="_blank" onclick="LogClickCount(this,336);">Fedora</a>
<a title="XML" href="http://www.csdn.net/tag/xml" target="_blank" onclick="LogClickCount(this,336);">XML</a>
<a title="LBS" href="http://www.csdn.net/tag/lbs" target="_blank" onclick="LogClickCount(this,336);">LBS</a>
<a title="Unity" href="http://www.csdn.net/tag/unity" target="_blank" onclick="LogClickCount(this,336);">Unity</a>
<a title="Splashtop" href="http://www.csdn.net/tag/splashtop" target="_blank" onclick="LogClickCount(this,336);">Splashtop</a>
<a title="UML" href="http://www.csdn.net/tag/uml" target="_blank" onclick="LogClickCount(this,336);">UML</a>
<a title="components" href="http://www.csdn.net/tag/components" target="_blank" onclick="LogClickCount(this,336);">components</a>
<a title="Windows Mobile" href="http://www.csdn.net/tag/windowsmobile" target="_blank" onclick="LogClickCount(this,336);">Windows Mobile</a>
<a title="Rails" href="http://www.csdn.net/tag/rails" target="_blank" onclick="LogClickCount(this,336);">Rails</a>
<a title="QEMU" href="http://www.csdn.net/tag/qemu" target="_blank" onclick="LogClickCount(this,336);">QEMU</a>
<a title="KDE" href="http://www.csdn.net/tag/kde" target="_blank" onclick="LogClickCount(this,336);">KDE</a>
<a title="Cassandra" href="http://www.csdn.net/tag/cassandra" target="_blank" onclick="LogClickCount(this,336);">Cassandra</a>
<a title="CloudStack" href="http://www.csdn.net/tag/cloudstack" target="_blank" onclick="LogClickCount(this,336);">CloudStack</a>
<a title="FTC" href="http://www.csdn.net/tag/ftc" target="_blank" onclick="LogClickCount(this,336);">FTC</a>
<a title="coremail" href="http://www.csdn.net/tag/coremail" target="_blank" onclick="LogClickCount(this,336);">coremail</a>
<a title="OPhone " href="http://www.csdn.net/tag/ophone" target="_blank" onclick="LogClickCount(this,336);">OPhone </a>
<a title="CouchBase" href="http://www.csdn.net/tag/couchbase" target="_blank" onclick="LogClickCount(this,336);">CouchBase</a>
<a title="云计算" href="http://www.csdn.net/tag/%E4%BA%91%E8%AE%A1%E7%AE%97" target="_blank" onclick="LogClickCount(this,336);">云计算</a>
<a title="iOS6" href="http://www.csdn.net/tag/iOS6" target="_blank" onclick="LogClickCount(this,336);">iOS6</a>
<a title="Rackspace " href="http://www.csdn.net/tag/rackspace" target="_blank" onclick="LogClickCount(this,336);">Rackspace </a>
<a title="Web App" href="http://www.csdn.net/tag/webapp" target="_blank" onclick="LogClickCount(this,336);">Web App</a>
<a title="SpringSide" href="http://www.csdn.net/tag/springside" target="_blank" onclick="LogClickCount(this,336);">SpringSide</a>
<a title="Maemo" href="http://www.csdn.net/tag/maemo" target="_blank" onclick="LogClickCount(this,336);">Maemo</a>
<a title="Compuware" href="http://www.csdn.net/tag/compuware" target="_blank" onclick="LogClickCount(this,336);">Compuware</a>
<a title="大数据" href="http://www.csdn.net/tag/%E5%A4%A7%E6%95%B0%E6%8D%AE" target="_blank" onclick="LogClickCount(this,336);">大数据</a>
<a title="aptech" href="http://www.csdn.net/tag/aptech" target="_blank" onclick="LogClickCount(this,336);">aptech</a>
<a title="Perl" href="http://www.csdn.net/tag/perl" target="_blank" onclick="LogClickCount(this,336);">Perl</a>
<a title="Tornado" href="http://www.csdn.net/tag/tornado" target="_blank" onclick="LogClickCount(this,336);">Tornado</a>
<a title="Ruby" href="http://www.csdn.net/tag/ruby" target="_blank" onclick="LogClickCount(this,336);">Ruby</a>
<a title="Hibernate" href="http://www.csdn.net/hibernate" target="_blank" onclick="LogClickCount(this,336);">Hibernate</a>
<a title="ThinkPHP" href="http://www.csdn.net/tag/thinkphp" target="_blank" onclick="LogClickCount(this,336);">ThinkPHP</a>
<a title="Spark" href="http://www.csdn.net/tag/spark" target="_blank" onclick="LogClickCount(this,336);">Spark</a>
<a title="HBase" href="http://www.csdn.net/tag/hbase" target="_blank" onclick="LogClickCount(this,336);">HBase</a>
<a title="Pure" href="http://www.csdn.net/tag/pure" target="_blank" onclick="LogClickCount(this,336);">Pure</a>
<a title="Solr" href="http://www.csdn.net/tag/solr" target="_blank" onclick="LogClickCount(this,336);">Solr</a>
<a title="Angular" href="http://www.csdn.net/tag/angular" target="_blank" onclick="LogClickCount(this,336);">Angular</a>
<a title="Cloud Foundry" href="http://www.csdn.net/tag/cloudfoundry" target="_blank" onclick="LogClickCount(this,336);">Cloud Foundry</a>
<a title="Redis" href="http://www.csdn.net/tag/redis" target="_blank" onclick="LogClickCount(this,336);">Redis</a>
<a title="Scala" href="http://www.csdn.net/tag/scala" target="_blank" onclick="LogClickCount(this,336);">Scala</a>
<a title="Django" href="http://www.csdn.net/tag/django" target="_blank" onclick="LogClickCount(this,336);">Django</a>
<a title="Bootstrap" href="http://www.csdn.net/tag/bootstrap" target="_blank" onclick="LogClickCount(this,336);">Bootstrap</a>
    </div>
</div>

                    <div class="clear">
                    </div>
                </div>
            </div>
            <div id="side">
    <div class="side">
<div id="panel_Profile" class="panel">
<ul class="panel_head"><span>个人资料</span></ul>
<ul class="panel_body profile">
<div id="blog_userface">
    <a href="http://my.csdn.net/Innost" target="_blank">
    <img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/1_innost.jpg" title="访问我的空间" style="max-width:90%">
    </a>
    <br>
    <span><a href="http://my.csdn.net/Innost" class="user_name" target="_blank">阿拉神农</a></span>
</div>
<div class="interact">
<a href="javascript:void(0);" class="attented" id="span_add_follow" title="[加关注]" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_guanzhu'])"></a>
<a href="javascript:void(0);" class="letter" onclick="loginto(1)" title="[发私信]"></a>
</div>
<div id="blog_medal">
        <div class="ico_expert" title="CSDN认证专家"></div>
<div id="bms_box"><a href="http://medal.blog.csdn.net/allmedal.aspx" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/columnstar_s.gif" onmouseover="m_over_m(this,0)" onmouseout="m_out_m()" alt=""></a><a href="http://medal.blog.csdn.net/allmedal.aspx" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/holdon_s2.gif" onmouseover="m_over_m(this,1)" onmouseout="m_out_m()" alt=""></a></div></div>
<ul id="blog_rank">
    <li>访问：<span>599046次</span></li>
    <li>积分：<span>6962分</span></li>
    <li>排名：<span>第754名</span></li>
</ul>
<ul id="blog_statistics">
    <li>原创：<span>112篇</span></li>
    <li>转载：<span>2篇</span></li>
    <li>译文：<span>0篇</span></li>
    <li>评论：<span>1528条</span></li>
</ul>
</ul>
</div>


<div id="custom_column_9063568" class="panel">
<ul class="panel_head"><span>最新消息</span></ul>
<ul class="panel_body">
新书《深入理解Android Wi-Fi NFC和GPS》即将上市，感谢大家对《深入理解Android》系列书籍的支持。
</ul>
</div><div class="panel" id="panel_Search">
    <ul class="panel_head"><span>文章搜索</span></ul>
    <ul class="panel_body">
        <form id="frmSearch" action="http://so.csdn.net/search" class="form_search" target="_blank">
        <span><input id="inputSearch" class="blogsearch" title="请输入关键字" type="text"></span>
        <input id="btnSubmit" value="搜索" title="search in blog" type="submit">
        <input name="q" id="inputQ" type="hidden">
        <input name="t" value="blog" type="hidden">
        <a id="btnSearchBlog" target="_blank"></a>
        </form>
    </ul>
</div><div id="panel_Category" class="panel">
    <ul class="panel_head"><span>博客专栏</span></ul>
    <ul class="panel_body" id="sp_column">
    <table cellpadding="0" cellspacing="0"><tbody><tr>
    <td style="padding:10px 10px 0 0;">
    <a href="http://blog.csdn.net/column/details/innost.html" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/20120311071117529.jpg" style="width:75px;height:75px;"></a>
    </td>
    <td style="padding:10px 0; vertical-align:top;">
    <a href="http://blog.csdn.net/column/details/innost.html" target="_blank">深入理解Android</a>
    <p>文章：49篇</p>
    <span>阅读：422577</span>
    </td>
    </tr></tbody></table>
    </ul>
</div><div id="panel_Archive" class="panel">
<ul class="panel_head"><span>文章存档</span></ul>
<ul class="panel_body">
<div id="archive_list"><li><a href="http://blog.csdn.net/innost/article/month/2014/04">2014年04月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2014/03">2014年03月</a><span>(12)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2014/02">2014年02月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2013/12">2013年12月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2013/11">2013年11月</a><span>(2)</span></li><span class="hidelist" style="display:none;"><li><a href="http://blog.csdn.net/innost/article/month/2013/08">2013年08月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2013/06">2013年06月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2013/05">2013年05月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2013/03">2013年03月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2013/01">2013年01月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/12">2012年12月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/11">2012年11月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/10">2012年10月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/09">2012年09月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/08">2012年08月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/07">2012年07月</a><span>(7)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/06">2012年06月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/05">2012年05月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/04">2012年04月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/03">2012年03月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2012/01">2012年01月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/12">2011年12月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/11">2011年11月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/10">2011年10月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/09">2011年09月</a><span>(4)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/08">2011年08月</a><span>(5)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/07">2011年07月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/02">2011年02月</a><span>(1)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2011/01">2011年01月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2010/12">2010年12月</a><span>(2)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2010/11">2010年11月</a><span>(3)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2010/07">2010年07月</a><span>(15)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2010/04">2010年04月</a><span>(6)</span></li><li><a href="http://blog.csdn.net/innost/article/month/2009/03">2009年03月</a><span>(2)</span></li></span><div id="archive_list_button" class="list_closed">展开</div></div>
</ul>
</div>
<div id="hotarticls" class="panel">
<ul class="panel_head">
    <span>       
阅读排行    </span>
</ul>

<ul class="panel_body itemlist">
<li>
<a href="http://blog.csdn.net/innost/article/details/8474683" title="Android Wi-Fi Display（Miracast）介绍">Android Wi-Fi Display（Miracast）介绍</a><span>(46910)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6172893" title="Android深入浅出之Surface[1]">Android深入浅出之Surface[1]</a><span>(34882)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6055793" title="Android Looper和Handler分析">Android Looper和Handler分析</a><span>(32764)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/8272867" title="Android Project Butter分析">Android Project Butter分析</a><span>(19381)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6083467" title="Android MediaScanner 详尽分析">Android MediaScanner 详尽分析</a><span>(19237)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6124685" title="Android深入浅出之Binder机制">Android深入浅出之Binder机制</a><span>(18744)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/8876392" title="MTP in Android">MTP in Android</a><span>(12760)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6693731" title="Linux Kernel系列一：开篇和Kernel启动概要">Linux Kernel系列一：开篇和Kernel启动概要</a><span>(12119)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6125779" title="Android深入浅出之Audio 第一部分 AudioTrack分析">Android深入浅出之Audio 第一部分 AudioTrack分析</a><span>(11008)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/9008691" title="Android系统性能调优工具介绍">Android系统性能调优工具介绍</a><span>(10931)</span>
</li>
</ul>
</div>
<div id="homepageArticles" class="panel tracking-ad" data-mod="popu_4">
<ul class="panel_head"><span>推荐文章</span></ul>
<ul class="panel_body" id="ad_commend"><iframe src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ad_002.html" style="border-width: 0px; overflow: hidden; width: 194px; height: 0px;" id="ad_frm_1" frameborder="0" scrolling="no"></iframe></ul>
</div>
<script type="text/javascript">
 new Ad(12, 'ad_commend');
</script><div id="newcomments" class="panel">
<ul class="panel_head"><span>最新评论</span></ul>
<ul class="panel_body itemlist">
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/21555225#comments">《深入理解Android：Wi-Fi，NFC和GPS》章节连载[节选]--第六章 深入理解wi-Fi Simple Configuration</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/thanatos_defy" class="user_name">thanatos_defy</a>:
非常非常感谢楼主把这些放到网上，我最近在学习这方面的内容~瞬间感觉东西好多自己太菜，书已经看到有了，...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/21555957#comments">《深入理解Android：Wi-Fi，NFC和GPS》章节连载[节选]--第七章 深入理解Wi-Fi P2P</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/wensefu" class="user_name">wensefu</a>:
大牛，请教一个问题，如何实现一个固定设备，让客户端随时可以p2p发现并连接上它呢？
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/7648869#comments">深入理解Android系列书籍的规划路线图</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/Mr_Data_Mining" class="user_name">geekcoder</a>:
看过，不错
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/22782763#comments">深入理解Android Wi-Fi,NFC和GPS卷 全面到货</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/Innost" class="user_name">阿拉神农</a>:
@u014649896:算错了，72/550 每page1毛钱 呵呵。
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/22782763#comments">深入理解Android Wi-Fi,NFC和GPS卷 全面到货</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/u014649896" class="user_name">G王芳兵K</a>:
这是有多厚呀
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/22782763#comments">深入理解Android Wi-Fi,NFC和GPS卷 全面到货</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/u014649896" class="user_name">G王芳兵K</a>:
看了作者的近照 感觉很可爱带喜感又平易近人。...这是什么感觉？？
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/22782763#comments">深入理解Android Wi-Fi,NFC和GPS卷 全面到货</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/liangxiaozhang" class="user_name">吾居榕树下</a>:
@Innost:买了。厚度还行。只是可惜没有蓝牙。
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/19641487#comments">深入理解SELinux SEAndroid之二</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/wistal" class="user_name">wistal</a>:
最近正在看这个，这是一篇好文章，写的很细致深入，也有针对性。如果图片有清晰点的就更好了，看图看的好吃...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/19641487#comments">深入理解Android Wi-Fi,NFC和GPS卷 全面到货</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/Innost" class="user_name">阿拉神农</a>:
@OExpress:这书是我和出版设签的合同，泄露电子版是违法的。才70块钱，买着看吧。一页纸不到4...
    </p>
    </li>
    <li>
   
         <a href="http://blog.csdn.net/innost/article/details/19641487#comments">深入理解Android Wi-Fi,NFC和GPS卷 全面到货</a>
    <p style="margin:0px;"><a href="http://blog.csdn.net/OExpress" class="user_name">CyberLogic</a>:
凡平，咱么以前可是同事 啊，能否给我份电子版啊！
    </p>
    </li>
</ul>
</div>
<div id="hotarticls2" class="panel">
<ul class="panel_head"><span>评论排行</span></ul>
<ul class="panel_body itemlist">
<li>
<a href="http://blog.csdn.net/innost/article/details/6124685" title="Android深入浅出之Binder机制">Android深入浅出之Binder机制</a><span>(112)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6172893" title="Android深入浅出之Surface[1]">Android深入浅出之Surface[1]</a><span>(95)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6083467" title="Android MediaScanner 详尽分析">Android MediaScanner 详尽分析</a><span>(59)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/8474683" title="Android Wi-Fi Display（Miracast）介绍">Android Wi-Fi Display（Miracast）介绍</a><span>(52)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/7648869" title="深入理解Android系列书籍的规划路线图">深入理解Android系列书籍的规划路线图</a><span>(52)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6055793" title="Android Looper和Handler分析">Android Looper和Handler分析</a><span>(51)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/7525205" title="深入理解卷II ---ICS源代码下载">深入理解卷II ---ICS源代码下载</a><span>(48)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/10184859" title="真诚邀请wifi专家审稿">真诚邀请wifi专家审稿</a><span>(46)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/6864129" title="《深入理解Android 卷I》 勘误表">《深入理解Android 卷I》 勘误表</a><span>(43)</span>
</li>
<li>
<a href="http://blog.csdn.net/innost/article/details/7488250" title="深入理解android卷II 即将发布">深入理解android卷II 即将发布</a><span>(38)</span>
</li>
</ul>
</div>
    </div>
    <div class="clear">
    </div>
</div>

            <div class="clear">
            </div>
        </div>
        

<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/newblog.js"></script>
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/showblogmedal.js"></script>
<script type="text/javascript">
    document.write('<script type="text/javascript" src="http://csdnimg.cn/pubfooter/js/publib_footer.js?' + Math.floor(new Date() / 120000).toString(36) + '="></' + 'script>');
</script><script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/publib_footer.js"></script><link rel="stylesheet" type="text/css" href="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/pub_footer_2012.css"><div id="pub_footerall" class="pub_footerall"><dl><dt></dt> <dd><a href="http://www.csdn.net/company/about.html" target="_blank">公司简介</a>|<a href="http://www.csdn.net/company/recruit.html" target="_blank">招贤纳士</a>|<a href="http://www.csdn.net/company/marketing.html" target="_blank">广告服务</a>|<a href="http://www.csdn.net/company/account.html" target="_blank">银行汇款帐号</a>|<a href="http://www.csdn.net/company/contact.html" target="_blank">联系方式</a>|<a href="http://www.csdn.net/company/statement.html" target="_blank">版权声明</a>|<a href="http://www.csdn.net/company/layer.html" target="_blank">法律顾问</a>|<a href="mailto:webmaster@csdn.net">问题报告</a>|<a target="_blank" href="http://www.csdn.net/friendlink.html">合作伙伴</a>|<a href="http://bbs.csdn.net/forums/Service" target="_blank">论坛反馈</a></dd><dd><a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2355263776&amp;site=qq&amp;menu=yes" target="_blank" class="qq">网站客服</a> <a href="http://wpa.qq.com/msgrd?v=3&amp;uin=2251809102&amp;site=qq&amp;menu=yes" target="_blank" class="qq">杂志客服</a> <a href="http://e.weibo.com/csdnsupport/profile" target="_blank" class="weibo">微博客服</a> <a href="mailto:webmaster@csdn.net" class="email" title="联系邮箱">webmaster@csdn.net</a> <span class="phone" title="服务热线">400-600-2320</span></dd><dd>京&nbsp;ICP&nbsp;证&nbsp;070598&nbsp;号</dd><dd>北京创新乐知信息技术有限公司 版权所有</dd><dd>江苏乐知网络技术有限公司 提供商务支持</dd><dd>Copyright © 1999-2014, CSDN.NET, All Rights Reserved&nbsp;<a href="http://www.hd315.gov.cn/beian/view.asp?bianhao=010202001032100010" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/gongshang_logos.gif" alt="GongshangLogo" title=""></a></dd></dl></div><div id="note1" class="csdn_note" style="display:none; position:absolute; z-index:9999; width:440px">  <span class="notice_top_arrow"><span class="inner"></span></span>  <div class="box"></div></div><div class="csdn_notice_tip" style="display:none; position:absolute; z-index:9990; width:170px">  <iframe src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/a_002.html" style="z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%;background:transparent" frameborder="0" scrolling="no"></iframe>  <div class="tip_text">您有<strong>0</strong>条新通知</div>  <a href="javascript:void%200" class="close2"></a></div><script id="noticeScript" type="text/javascript" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/notify.js"></script>
    <script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/tongji.js"></script><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/tongji.gif" border="0" height="1" width="1"><a href="http://tongji.linezing.com/report.html?unit_id=2674640" target="_blank"><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/icon1.gif" alt="量子统计" border="0"></a>
<script type="text/javascript">document.write("<img src=http://counter.csdn.net/pv.aspx?id=24 border=0 width=0 height=0>");</script><img src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/pv.asc" border="0" height="0" width="0">
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/counter.js"></script><script type="text/javascript" charset="UTF-8" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/msg.js"></script>
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ad-blog.js"></script><script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ad-ms783_2.js"></script>
<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/ad-ms786_3.js"></script>

<script type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/count.js"></script><iframe src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/logs.html" frameborder="0" height="0" width="0"></iframe>
<script type="text/javascript">
    $(function () {
        function __get_code_toolbar(snippet_id) {
            return $("<a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "' target='_blank' title='在CODE上查看代码片' style='text-indent:0;'><img src='https://code.csdn.net/assets/CODE_ico.png' width=12 height=12 alt='在CODE上查看代码片' style='position:relative;top:1px;left:2px;'/></a>"
                    + "<a href='https://code.csdn.net/snippets/"
                    + snippet_id
                    + "/fork' target='_blank' title='派生到我的代码片'  style='text-indent:0;'><img src='https://code.csdn.net/assets/ico_fork.svg' width=12 height=12 alt='派生到我的代码片' style='position:relative;top:2px;left:2px;'/></a>");
        }
        
        $("[code_snippet_id]").each(function () {
            __s_id = $(this).attr("code_snippet_id");
            if (__s_id != null && __s_id != "" && __s_id != 0 && parseInt(__s_id) > 70020) {
                __code_tool = __get_code_toolbar(__s_id);
                $(this).prev().find(".tools").append(__code_tool);
            }
        });
    });
</script>

    </div>
      <!--new top-->
    
    <script id="csdn-toolbar-id" btnid="header_notice_num" wrapid="note1" count="5" subcount="5" type="text/javascript" src="MTP%20in%20Android%20-%20Innost%E7%9A%84%E4%B8%93%E6%A0%8F%20-%20%E5%8D%9A%E5%AE%A2%E9%A2%91%E9%81%93%20-%20CSDN.NET_files/toolbar.js"></script>
     <!--new top-->


</body></html>